<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.51">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <link rel="manifest" href="/manifest.webmanifest"><meta name="theme-color" content="#3eaf7c"><link rel="icon" href="/images/logo/favicon.ico"><title>LearnVue | Kaikai's Blog</title><meta name="description" content="Vue 学习之路, 参考 Vue官方文档及尚硅谷Vue教程">
    <link rel="modulepreload" href="/Kaikai-s-Blog/assets/app.e12c69cb.js"><link rel="modulepreload" href="/Kaikai-s-Blog/assets/LearnVue.html.4680c1e5.js"><link rel="modulepreload" href="/Kaikai-s-Blog/assets/LearnVue.html.927e88e0.js"><link rel="prefetch" href="/Kaikai-s-Blog/assets/index.html.e47ced00.js"><link rel="prefetch" href="/Kaikai-s-Blog/assets/index.html.f2323037.js"><link rel="prefetch" href="/Kaikai-s-Blog/assets/Git.html.a6e39c4e.js"><link rel="prefetch" href="/Kaikai-s-Blog/assets/Vuepress.html.b1796e49.js"><link rel="prefetch" href="/Kaikai-s-Blog/assets/emoji.html.5f2ace5e.js"><link rel="prefetch" href="/Kaikai-s-Blog/assets/index.html.d840e023.js"><link rel="prefetch" href="/Kaikai-s-Blog/assets/rectangles.html.906dcfbe.js"><link rel="prefetch" href="/Kaikai-s-Blog/assets/todo-list.html.3325bb67.js"><link rel="prefetch" href="/Kaikai-s-Blog/assets/summary.html.1b60fea4.js"><link rel="prefetch" href="/Kaikai-s-Blog/assets/Shell.html.d1a9351a.js"><link rel="prefetch" href="/Kaikai-s-Blog/assets/404.html.c3e557d0.js"><link rel="prefetch" href="/Kaikai-s-Blog/assets/index.html.6c4058d2.js"><link rel="prefetch" href="/Kaikai-s-Blog/assets/index.html.851c7b6e.js"><link rel="prefetch" href="/Kaikai-s-Blog/assets/Git.html.1b5a9cd3.js"><link rel="prefetch" href="/Kaikai-s-Blog/assets/Vuepress.html.d8cbb0f5.js"><link rel="prefetch" href="/Kaikai-s-Blog/assets/emoji.html.46847329.js"><link rel="prefetch" href="/Kaikai-s-Blog/assets/index.html.a7211777.js"><link rel="prefetch" href="/Kaikai-s-Blog/assets/rectangles.html.b2da2c39.js"><link rel="prefetch" href="/Kaikai-s-Blog/assets/todo-list.html.dc00d9a6.js"><link rel="prefetch" href="/Kaikai-s-Blog/assets/summary.html.a2a5aa48.js"><link rel="prefetch" href="/Kaikai-s-Blog/assets/Shell.html.09507d6d.js"><link rel="prefetch" href="/Kaikai-s-Blog/assets/404.html.e15e48f6.js"><link rel="prefetch" href="/Kaikai-s-Blog/assets/index.0e8935cb.js"><link rel="prefetch" href="/Kaikai-s-Blog/assets/App.fa57fb20.js"><link rel="prefetch" href="/Kaikai-s-Blog/assets/App.9f8a0317.js"><link rel="prefetch" href="/Kaikai-s-Blog/assets/Todo.d8d15578.js"><link rel="prefetch" href="/Kaikai-s-Blog/assets/TodoInput.58c5bb91.js"><link rel="prefetch" href="/Kaikai-s-Blog/assets/TodoList.75b10302.js"><link rel="prefetch" href="/Kaikai-s-Blog/assets/TodoListFooter.b7242b01.js">
    <link rel="stylesheet" href="/Kaikai-s-Blog/assets/style.fcca225b.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/Kaikai-s-Blog/" class=""><img class="logo" src="/Kaikai-s-Blog/images/logo/flower.png" alt="Kaikai&#39;s Blog"><span class="site-name can-hide">Kaikai&#39;s Blog</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Notes"><span class="title">Notes</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Notes"><span class="title">Notes</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>Blockchain</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/Kaikai-s-Blog/notes/BlockChain/summary.md" class="" aria-label="Summary"><!--[--><!--]--> Summary <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>FrontEnd</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/Kaikai-s-Blog/notes/FrontEnd/Vue/LearnVue.md" class="" aria-label="Vue"><!--[--><!--]--> Vue <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>Linux</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/Kaikai-s-Blog/notes/Linux/Shell.md" class="" aria-label="Shell"><!--[--><!--]--> Shell <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Works"><span class="title">Works</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Works"><span class="title">Works</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/Kaikai-s-Blog/works/todo-list.md" class="" aria-label="Todo"><!--[--><!--]--> Todo <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Kaikai-s-Blog/works/rectangles.md" class="" aria-label="Rectangles"><!--[--><!--]--> Rectangles <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Tools"><span class="title">Tools</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Tools"><span class="title">Tools</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/Kaikai-s-Blog/tools/emoji.md" class="" aria-label="Emoji"><!--[--><!--]--> Emoji <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Kaikai-s-Blog/tools/Vuepress.md" class="" aria-label="Vuepress"><!--[--><!--]--> Vuepress <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a class="external-link" href="https://github.com/Kaikaikaifang/Kaikai-s-Blog" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><div id="docsearch-container"></div></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Notes"><span class="title">Notes</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Notes"><span class="title">Notes</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>Blockchain</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/Kaikai-s-Blog/notes/BlockChain/summary.md" class="" aria-label="Summary"><!--[--><!--]--> Summary <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>FrontEnd</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/Kaikai-s-Blog/notes/FrontEnd/Vue/LearnVue.md" class="" aria-label="Vue"><!--[--><!--]--> Vue <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>Linux</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/Kaikai-s-Blog/notes/Linux/Shell.md" class="" aria-label="Shell"><!--[--><!--]--> Shell <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Works"><span class="title">Works</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Works"><span class="title">Works</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/Kaikai-s-Blog/works/todo-list.md" class="" aria-label="Todo"><!--[--><!--]--> Todo <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Kaikai-s-Blog/works/rectangles.md" class="" aria-label="Rectangles"><!--[--><!--]--> Rectangles <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Tools"><span class="title">Tools</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Tools"><span class="title">Tools</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/Kaikai-s-Blog/tools/emoji.md" class="" aria-label="Emoji"><!--[--><!--]--> Emoji <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Kaikai-s-Blog/tools/Vuepress.md" class="" aria-label="Vuepress"><!--[--><!--]--> Vuepress <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a class="external-link" href="https://github.com/Kaikaikaifang/Kaikai-s-Blog" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading">LearnVue <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/Kaikai-s-Blog/notes/FrontEnd/Vue/LearnVue.html#初识vue" class="router-link-active router-link-exact-active sidebar-item" aria-label="初识Vue"><!--[--><!--]--> 初识Vue <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Kaikai-s-Blog/notes/FrontEnd/Vue/LearnVue.html#数据代理" class="router-link-active router-link-exact-active sidebar-item" aria-label="数据代理"><!--[--><!--]--> 数据代理 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/Kaikai-s-Blog/notes/FrontEnd/Vue/LearnVue.html#vue中的数据代理" class="router-link-active router-link-exact-active sidebar-item" aria-label="Vue中的数据代理"><!--[--><!--]--> Vue中的数据代理 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/Kaikai-s-Blog/notes/FrontEnd/Vue/LearnVue.html#事件处理" class="router-link-active router-link-exact-active sidebar-item" aria-label="事件处理"><!--[--><!--]--> 事件处理 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/Kaikai-s-Blog/notes/FrontEnd/Vue/LearnVue.html#事件修饰符" class="router-link-active router-link-exact-active sidebar-item" aria-label="事件修饰符"><!--[--><!--]--> 事件修饰符 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Kaikai-s-Blog/notes/FrontEnd/Vue/LearnVue.html#键盘事件" class="router-link-active router-link-exact-active sidebar-item" aria-label="键盘事件"><!--[--><!--]--> 键盘事件 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/Kaikai-s-Blog/notes/FrontEnd/Vue/LearnVue.html#计算属性" class="router-link-active router-link-exact-active sidebar-item" aria-label="计算属性"><!--[--><!--]--> 计算属性 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Kaikai-s-Blog/notes/FrontEnd/Vue/LearnVue.html#监视属性-侦听属性" class="router-link-active router-link-exact-active sidebar-item" aria-label="监视属性（侦听属性）"><!--[--><!--]--> 监视属性（侦听属性） <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Kaikai-s-Blog/notes/FrontEnd/Vue/LearnVue.html#computed与watch之间的区别" class="router-link-active router-link-exact-active sidebar-item" aria-label="computed与watch之间的区别"><!--[--><!--]--> computed与watch之间的区别 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/Kaikai-s-Blog/notes/FrontEnd/Vue/LearnVue.html#两个重要的原则" class="router-link-active router-link-exact-active sidebar-item" aria-label="两个重要的原则"><!--[--><!--]--> 两个重要的原则 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/Kaikai-s-Blog/notes/FrontEnd/Vue/LearnVue.html#绑定样式" class="router-link-active router-link-exact-active sidebar-item" aria-label="绑定样式"><!--[--><!--]--> 绑定样式 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/Kaikai-s-Blog/notes/FrontEnd/Vue/LearnVue.html#class-样式-style-样式" class="router-link-active router-link-exact-active sidebar-item" aria-label="class 样式 &amp; style 样式"><!--[--><!--]--> class 样式 &amp; style 样式 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/Kaikai-s-Blog/notes/FrontEnd/Vue/LearnVue.html#条件渲染" class="router-link-active router-link-exact-active sidebar-item" aria-label="条件渲染"><!--[--><!--]--> 条件渲染 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Kaikai-s-Blog/notes/FrontEnd/Vue/LearnVue.html#列表渲染" class="router-link-active router-link-exact-active sidebar-item" aria-label="列表渲染"><!--[--><!--]--> 列表渲染 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Kaikai-s-Blog/notes/FrontEnd/Vue/LearnVue.html#key-的原理" class="router-link-active router-link-exact-active sidebar-item" aria-label="key 的原理"><!--[--><!--]--> key 的原理 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Kaikai-s-Blog/notes/FrontEnd/Vue/LearnVue.html#列表过滤" class="router-link-active router-link-exact-active sidebar-item" aria-label="列表过滤"><!--[--><!--]--> 列表过滤 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Kaikai-s-Blog/notes/FrontEnd/Vue/LearnVue.html#列表排序" class="router-link-active router-link-exact-active sidebar-item" aria-label="列表排序"><!--[--><!--]--> 列表排序 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Kaikai-s-Blog/notes/FrontEnd/Vue/LearnVue.html#监测数据改变的原理" class="router-link-active router-link-exact-active sidebar-item" aria-label="监测数据改变的原理"><!--[--><!--]--> 监测数据改变的原理 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/Kaikai-s-Blog/notes/FrontEnd/Vue/LearnVue.html#vue监测对象中数据的改变" class="router-link-active router-link-exact-active sidebar-item" aria-label="Vue监测对象中数据的改变"><!--[--><!--]--> Vue监测对象中数据的改变 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Kaikai-s-Blog/notes/FrontEnd/Vue/LearnVue.html#vue检测数组中数据的改变" class="router-link-active router-link-exact-active sidebar-item" aria-label="Vue检测数组中数据的改变"><!--[--><!--]--> Vue检测数组中数据的改变 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/Kaikai-s-Blog/notes/FrontEnd/Vue/LearnVue.html#v-model收集表单中的数据" class="router-link-active router-link-exact-active sidebar-item" aria-label="v-model收集表单中的数据"><!--[--><!--]--> v-model收集表单中的数据 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Kaikai-s-Blog/notes/FrontEnd/Vue/LearnVue.html#过滤器" class="router-link-active router-link-exact-active sidebar-item" aria-label="过滤器"><!--[--><!--]--> 过滤器 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Kaikai-s-Blog/notes/FrontEnd/Vue/LearnVue.html#内置指令" class="router-link-active router-link-exact-active sidebar-item" aria-label="内置指令"><!--[--><!--]--> 内置指令 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Kaikai-s-Blog/notes/FrontEnd/Vue/LearnVue.html#自定义指令" class="router-link-active router-link-exact-active sidebar-item" aria-label="自定义指令"><!--[--><!--]--> 自定义指令 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Kaikai-s-Blog/notes/FrontEnd/Vue/LearnVue.html#生命周期" class="router-link-active router-link-exact-active sidebar-item" aria-label="生命周期"><!--[--><!--]--> 生命周期 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Kaikai-s-Blog/notes/FrontEnd/Vue/LearnVue.html#组件化编程" class="router-link-active router-link-exact-active sidebar-item" aria-label="组件化编程"><!--[--><!--]--> 组件化编程 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/Kaikai-s-Blog/notes/FrontEnd/Vue/LearnVue.html#vuecomponent" class="router-link-active router-link-exact-active sidebar-item" aria-label="VueComponent"><!--[--><!--]--> VueComponent <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Kaikai-s-Blog/notes/FrontEnd/Vue/LearnVue.html#一个重要的内置关系" class="router-link-active router-link-exact-active sidebar-item" aria-label="一个重要的内置关系"><!--[--><!--]--> 一个重要的内置关系 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/Kaikai-s-Blog/notes/FrontEnd/Vue/LearnVue.html#单文件组件" class="router-link-active router-link-exact-active sidebar-item" aria-label="单文件组件"><!--[--><!--]--> 单文件组件 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Kaikai-s-Blog/notes/FrontEnd/Vue/LearnVue.html#ref属性" class="router-link-active router-link-exact-active sidebar-item" aria-label="ref属性"><!--[--><!--]--> ref属性 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Kaikai-s-Blog/notes/FrontEnd/Vue/LearnVue.html#props配置项" class="router-link-active router-link-exact-active sidebar-item" aria-label="props配置项"><!--[--><!--]--> props配置项 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Kaikai-s-Blog/notes/FrontEnd/Vue/LearnVue.html#mixin配置项" class="router-link-active router-link-exact-active sidebar-item" aria-label="mixin配置项"><!--[--><!--]--> mixin配置项 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Kaikai-s-Blog/notes/FrontEnd/Vue/LearnVue.html#插件" class="router-link-active router-link-exact-active sidebar-item" aria-label="插件"><!--[--><!--]--> 插件 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Kaikai-s-Blog/notes/FrontEnd/Vue/LearnVue.html#scoped属性" class="router-link-active router-link-exact-active sidebar-item" aria-label="scoped属性"><!--[--><!--]--> scoped属性 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Kaikai-s-Blog/notes/FrontEnd/Vue/LearnVue.html#项目构建" class="router-link-active router-link-exact-active sidebar-item" aria-label="项目构建"><!--[--><!--]--> 项目构建 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/Kaikai-s-Blog/notes/FrontEnd/Vue/LearnVue.html#vue-cli" class="router-link-active router-link-exact-active sidebar-item" aria-label="Vue-cli"><!--[--><!--]--> Vue-cli <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Kaikai-s-Blog/notes/FrontEnd/Vue/LearnVue.html#vite" class="router-link-active router-link-exact-active sidebar-item" aria-label="Vite"><!--[--><!--]--> Vite <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Kaikai-s-Blog/notes/FrontEnd/Vue/LearnVue.html#src" class="router-link-active router-link-exact-active sidebar-item" aria-label="src"><!--[--><!--]--> src <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/Kaikai-s-Blog/notes/FrontEnd/Vue/LearnVue.html#组件的自定义事件" class="router-link-active router-link-exact-active sidebar-item" aria-label="组件的自定义事件"><!--[--><!--]--> 组件的自定义事件 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/Kaikai-s-Blog/notes/FrontEnd/Vue/LearnVue.html#使用方式" class="router-link-active router-link-exact-active sidebar-item" aria-label="使用方式"><!--[--><!--]--> 使用方式 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/Kaikai-s-Blog/notes/FrontEnd/Vue/LearnVue.html#全局事件总线" class="router-link-active router-link-exact-active sidebar-item" aria-label="全局事件总线"><!--[--><!--]--> 全局事件总线 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/Kaikai-s-Blog/notes/FrontEnd/Vue/LearnVue.html#使用方式-1" class="router-link-active router-link-exact-active sidebar-item" aria-label="使用方式"><!--[--><!--]--> 使用方式 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/Kaikai-s-Blog/notes/FrontEnd/Vue/LearnVue.html#消息订阅与发布" class="router-link-active router-link-exact-active sidebar-item" aria-label="消息订阅与发布"><!--[--><!--]--> 消息订阅与发布 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/Kaikai-s-Blog/notes/FrontEnd/Vue/LearnVue.html#使用方法" class="router-link-active router-link-exact-active sidebar-item" aria-label="使用方法"><!--[--><!--]--> 使用方法 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/Kaikai-s-Blog/notes/FrontEnd/Vue/LearnVue.html#nexttick" class="router-link-active router-link-exact-active sidebar-item" aria-label="$nextTick"><!--[--><!--]--> $nextTick <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/Kaikai-s-Blog/notes/FrontEnd/Vue/LearnVue.html#语法" class="router-link-active router-link-exact-active sidebar-item" aria-label="语法"><!--[--><!--]--> 语法 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Kaikai-s-Blog/notes/FrontEnd/Vue/LearnVue.html#功能" class="router-link-active router-link-exact-active sidebar-item" aria-label="功能"><!--[--><!--]--> 功能 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/Kaikai-s-Blog/notes/FrontEnd/Vue/LearnVue.html#vue封装的过渡与动画" class="router-link-active router-link-exact-active sidebar-item" aria-label="Vue封装的过渡与动画"><!--[--><!--]--> Vue封装的过渡与动画 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/Kaikai-s-Blog/notes/FrontEnd/Vue/LearnVue.html#与常规的过渡与动画的不同" class="router-link-active router-link-exact-active sidebar-item" aria-label="与常规的过渡与动画的不同"><!--[--><!--]--> 与常规的过渡与动画的不同 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Kaikai-s-Blog/notes/FrontEnd/Vue/LearnVue.html#使用方法-1" class="router-link-active router-link-exact-active sidebar-item" aria-label="使用方法"><!--[--><!--]--> 使用方法 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Kaikai-s-Blog/notes/FrontEnd/Vue/LearnVue.html#过渡与动画" class="router-link-active router-link-exact-active sidebar-item" aria-label="过渡与动画"><!--[--><!--]--> 过渡与动画 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Kaikai-s-Blog/notes/FrontEnd/Vue/LearnVue.html#过渡-transition" class="router-link-active router-link-exact-active sidebar-item" aria-label="过渡 transition"><!--[--><!--]--> 过渡 transition <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Kaikai-s-Blog/notes/FrontEnd/Vue/LearnVue.html#动画-animation" class="router-link-active router-link-exact-active sidebar-item" aria-label="动画 animation"><!--[--><!--]--> 动画 animation <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/Kaikai-s-Blog/notes/FrontEnd/Vue/LearnVue.html#todo-pro" class="router-link-active router-link-exact-active sidebar-item" aria-label="ToDo Pro"><!--[--><!--]--> ToDo Pro <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/Kaikai-s-Blog/notes/FrontEnd/Vue/LearnVue.html#实现的功能" class="router-link-active router-link-exact-active sidebar-item" aria-label="实现的功能"><!--[--><!--]--> 实现的功能 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Kaikai-s-Blog/notes/FrontEnd/Vue/LearnVue.html#练习的vue功能" class="router-link-active router-link-exact-active sidebar-item" aria-label="练习的Vue功能"><!--[--><!--]--> 练习的Vue功能 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Kaikai-s-Blog/notes/FrontEnd/Vue/LearnVue.html#组件拆分" class="router-link-active router-link-exact-active sidebar-item" aria-label="组件拆分"><!--[--><!--]--> 组件拆分 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/Kaikai-s-Blog/notes/FrontEnd/Vue/LearnVue.html#配置代理" class="router-link-active router-link-exact-active sidebar-item" aria-label="配置代理"><!--[--><!--]--> 配置代理 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/Kaikai-s-Blog/notes/FrontEnd/Vue/LearnVue.html#发送请求" class="router-link-active router-link-exact-active sidebar-item" aria-label="发送请求"><!--[--><!--]--> 发送请求 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Kaikai-s-Blog/notes/FrontEnd/Vue/LearnVue.html#跨域问题" class="router-link-active router-link-exact-active sidebar-item" aria-label="跨域问题"><!--[--><!--]--> 跨域问题 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Kaikai-s-Blog/notes/FrontEnd/Vue/LearnVue.html#解决方案" class="router-link-active router-link-exact-active sidebar-item" aria-label="解决方案"><!--[--><!--]--> 解决方案 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/Kaikai-s-Blog/notes/FrontEnd/Vue/LearnVue.html#插槽" class="router-link-active router-link-exact-active sidebar-item" aria-label="插槽"><!--[--><!--]--> 插槽 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/Kaikai-s-Blog/notes/FrontEnd/Vue/LearnVue.html#三种类型" class="router-link-active router-link-exact-active sidebar-item" aria-label="三种类型"><!--[--><!--]--> 三种类型 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/Kaikai-s-Blog/notes/FrontEnd/Vue/LearnVue.html#属性attributes-穿透" class="router-link-active router-link-exact-active sidebar-item" aria-label="属性Attributes 穿透"><!--[--><!--]--> 属性Attributes 穿透 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/Kaikai-s-Blog/notes/FrontEnd/Vue/LearnVue.html#组件以单元素作为根" class="router-link-active router-link-exact-active sidebar-item" aria-label="组件以单元素作为根"><!--[--><!--]--> 组件以单元素作为根 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Kaikai-s-Blog/notes/FrontEnd/Vue/LearnVue.html#禁用跟组件继承" class="router-link-active router-link-exact-active sidebar-item" aria-label="禁用跟组件继承"><!--[--><!--]--> 禁用跟组件继承 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Kaikai-s-Blog/notes/FrontEnd/Vue/LearnVue.html#在v-on事件监听中使用箭头函数时的注意事项" class="router-link-active router-link-exact-active sidebar-item" aria-label="在v-on事件监听中使用箭头函数时的注意事项"><!--[--><!--]--> 在v-on事件监听中使用箭头函数时的注意事项 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/Kaikai-s-Blog/notes/FrontEnd/Vue/LearnVue.html#状态管理" class="router-link-active router-link-exact-active sidebar-item" aria-label="状态管理"><!--[--><!--]--> 状态管理 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/Kaikai-s-Blog/notes/FrontEnd/Vue/LearnVue.html#单向数据流" class="router-link-active router-link-exact-active sidebar-item" aria-label="单向数据流："><!--[--><!--]--> 单向数据流： <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Kaikai-s-Blog/notes/FrontEnd/Vue/LearnVue.html#存在的问题及需求" class="router-link-active router-link-exact-active sidebar-item" aria-label="存在的问题及需求"><!--[--><!--]--> 存在的问题及需求 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Kaikai-s-Blog/notes/FrontEnd/Vue/LearnVue.html#最终问题的解决" class="router-link-active router-link-exact-active sidebar-item" aria-label="最终问题的解决"><!--[--><!--]--> 最终问题的解决 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/Kaikai-s-Blog/notes/FrontEnd/Vue/LearnVue.html#provide-和-inject-配置项" class="router-link-active router-link-exact-active sidebar-item" aria-label="provide 和 inject 配置项"><!--[--><!--]--> provide 和 inject 配置项 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Kaikai-s-Blog/notes/FrontEnd/Vue/LearnVue.html#vuex" class="router-link-active router-link-exact-active sidebar-item" aria-label="Vuex"><!--[--><!--]--> Vuex <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/Kaikai-s-Blog/notes/FrontEnd/Vue/LearnVue.html#概念" class="router-link-active router-link-exact-active sidebar-item" aria-label="概念"><!--[--><!--]--> 概念 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Kaikai-s-Blog/notes/FrontEnd/Vue/LearnVue.html#first-try" class="router-link-active router-link-exact-active sidebar-item" aria-label="First Try"><!--[--><!--]--> First Try <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Kaikai-s-Blog/notes/FrontEnd/Vue/LearnVue.html#实例化组件" class="router-link-active router-link-exact-active sidebar-item" aria-label="实例化组件"><!--[--><!--]--> 实例化组件 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Kaikai-s-Blog/notes/FrontEnd/Vue/LearnVue.html#state" class="router-link-active router-link-exact-active sidebar-item" aria-label="State"><!--[--><!--]--> State <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Kaikai-s-Blog/notes/FrontEnd/Vue/LearnVue.html#getter" class="router-link-active router-link-exact-active sidebar-item" aria-label="Getter"><!--[--><!--]--> Getter <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Kaikai-s-Blog/notes/FrontEnd/Vue/LearnVue.html#mutation" class="router-link-active router-link-exact-active sidebar-item" aria-label="Mutation"><!--[--><!--]--> Mutation <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Kaikai-s-Blog/notes/FrontEnd/Vue/LearnVue.html#action" class="router-link-active router-link-exact-active sidebar-item" aria-label="Action"><!--[--><!--]--> Action <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Kaikai-s-Blog/notes/FrontEnd/Vue/LearnVue.html#组合action" class="router-link-active router-link-exact-active sidebar-item" aria-label="组合Action"><!--[--><!--]--> 组合Action <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Kaikai-s-Blog/notes/FrontEnd/Vue/LearnVue.html#module" class="router-link-active router-link-exact-active sidebar-item" aria-label="Module"><!--[--><!--]--> Module <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Kaikai-s-Blog/notes/FrontEnd/Vue/LearnVue.html#命名空间" class="router-link-active router-link-exact-active sidebar-item" aria-label="命名空间"><!--[--><!--]--> 命名空间 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Kaikai-s-Blog/notes/FrontEnd/Vue/LearnVue.html#项目结构" class="router-link-active router-link-exact-active sidebar-item" aria-label="项目结构"><!--[--><!--]--> 项目结构 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/Kaikai-s-Blog/notes/FrontEnd/Vue/LearnVue.html#异步组件" class="router-link-active router-link-exact-active sidebar-item" aria-label="异步组件"><!--[--><!--]--> 异步组件 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/Kaikai-s-Blog/notes/FrontEnd/Vue/LearnVue.html#定义异步组件" class="router-link-active router-link-exact-active sidebar-item" aria-label="定义异步组件"><!--[--><!--]--> 定义异步组件 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Kaikai-s-Blog/notes/FrontEnd/Vue/LearnVue.html#注册异步组件" class="router-link-active router-link-exact-active sidebar-item" aria-label="注册异步组件"><!--[--><!--]--> 注册异步组件 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Kaikai-s-Blog/notes/FrontEnd/Vue/LearnVue.html#加载与错误状态" class="router-link-active router-link-exact-active sidebar-item" aria-label="加载与错误状态"><!--[--><!--]--> 加载与错误状态 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="learnvue" tabindex="-1"><a class="header-anchor" href="#learnvue" aria-hidden="true">#</a> LearnVue</h1><h2 id="初识vue" tabindex="-1"><a class="header-anchor" href="#初识vue" aria-hidden="true">#</a> 初识Vue</h2><ol><li><p>创建Vue实例，传入一个配置对象</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token comment">&lt;!-- root容器 Vue模板 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>example<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>{{ message }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">// Vue实例</span>
<span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">el</span><span class="token operator">:</span> <span class="token string">&#39;#example&#39;</span><span class="token punctuation">,</span> <span class="token comment">//CSS选择器 el:element</span>
    <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">&quot;kaikai&quot;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>Vue实例和Vue容器时一一对应的，既不能一对多，也不能多对一</p></li><li><p><code>{{ xxx }}</code>中的xxx要写js表达式，<strong>且xxx可以自动读取到Vue实例中data的属性</strong></p></li><li><p>一旦data中的数据发生改变，页面中使用到的该数据会自动更新</p></li><li><p>Vue模板语句</p><ul><li><code>{{ xxx }}</code> 插值语句: 用于解析标签体内容</li><li><code>v-xx:attribute=&quot;xxx&quot;</code> 指令语句: 用于解析标签 <ul><li><p><code>v-bind</code>: 单向绑定 把xxx这个JS表达式的结果绑定给attribute</p><ul><li>数据只能从data<strong>流向</strong>页面，即修改data中的值会影响页面中的值，反之不行</li><li><code>v-bind:</code> 简写形式 <code>:</code></li></ul><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>root<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name"><span class="token namespace">v-bind:</span>href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>baidu.url<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{ baidu.name }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">:href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>bilibili.url<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{ bilibili.name }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">el</span><span class="token operator">:</span> <span class="token string">&#39;#root&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">baidu</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">&#39;https://www.baidu.com&#39;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;百度&#39;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token literal-property property">bilibili</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">&#39;https://www.bilibili.com&#39;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;哔哩哔哩&#39;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><code>v-model</code>: 双向绑定</p><ul><li>数据可以双向流动，既可以从data流向页面，也可以从页面流向data</li><li>只能用于有<code>value</code>属性的表单类元素(<code>input</code>, <code>select</code>)</li><li><code>v-model:value</code> 可简写为 <code>v-model</code></li></ul></li></ul></li></ul></li><li><p>建立Vue实例与root容器(Vue模板)之间的联系(el的两种写法)</p><ul><li><p>Vue模板由Vue实例解析</p></li><li><p>Vue实例将解析完的内容挂载到模板中的指定位置</p></li><li><p>实例化Vue时建立联系</p><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">el</span><span class="token operator">:</span> <span class="token string">&#39;#root&#39;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>实例化之后再建立联系</p><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">const</span> v <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
v<span class="token punctuation">.</span><span class="token function">$mount</span><span class="token punctuation">(</span><span class="token string">&#39;#root &#39;</span><span class="token punctuation">)</span> <span class="token comment">//mount:挂载: v实例挂载到root容器（就是建立Vue实例与root容器之间的联系）</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></li></ul></li><li><p>data的两种写法</p><ul><li><p>对象式</p><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">el</span><span class="token operator">:</span> <span class="token string">&#39;#root&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;kaikai&#39;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>函数式</p><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">el</span><span class="token operator">:</span> <span class="token string">&#39;#root&#39;</span><span class="token punctuation">,</span>
    <span class="token comment">/* data: function(){
        return {
            name: &#39;kaikai&#39;
        }
    } */</span>
    <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;@@@&#39;</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span> <span class="token comment">//this式Vue实例对象</span>
        <span class="token keyword">return</span><span class="token punctuation">{</span>
            <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;kaikai&#39;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul></li><li><p>Vue所管理的函数一定不能写成 <code>=&gt;</code> 箭头函数</p><ul><li>写做箭头函数，函数体中this指的就不再是Vue实例</li></ul><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">// 1.</span>
<span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span>b</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> a<span class="token operator">+</span>b<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 等价于</span>
<span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span>b</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span>a<span class="token operator">+</span>b
<span class="token comment">// 2.</span>
<span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span><span class="token literal-property property">key</span><span class="token operator">:</span> x<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// 等价于</span>
<span class="token parameter">x</span><span class="token operator">=&gt;</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">key</span><span class="token operator">:</span> x<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// 3.</span>
<span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">&#39;hello&#39;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 等价于</span>
<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">&#39;hello&#39;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><p><a href="https://www.bilibili.com/video/BV1Zy4y1K7SH?p=10&amp;spm_id_from=pageDriver&amp;vd_source=64b55993247a0c1e3849a8546c3513b5" target="_blank" rel="noopener noreferrer">Vue教程<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><ol><li><p>MVVM模型:</p><ul><li>M: 模型(Model), data中的数据 <strong>数据模型</strong></li><li>V: 视图(View), 模板代码 <strong>Vue模板</strong></li><li>VM: 视图模型(ViewModel) <strong>Vue实例</strong></li></ul><blockquote><p>Vue这个前端框架所干的事，就是作为一个桥梁ViewModel(Vue实例))把Model(数据模型)中的数据解析到V(Vue模板)中</p></blockquote><blockquote><p>Model中的所有属性都会出现在ViewModel(Vue实例)身上</p></blockquote><blockquote><p>vm身上的所有属性 以及 Vue原型上的所有属性, 在View(Vue模板)中都可以直接使用</p></blockquote></li></ol><hr><h2 id="数据代理" tabindex="-1"><a class="header-anchor" href="#数据代理" aria-hidden="true">#</a> 数据代理</h2><p><code>Object.defineProperty</code></p><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token literal-property property">x</span><span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">}</span>
<span class="token keyword">let</span> obj2 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token literal-property property">y</span><span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">}</span>
Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token string">&#39;y&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> obj2<span class="token punctuation">.</span>y<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">set</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">{</span>
        obj2<span class="token punctuation">.</span>y <span class="token operator">=</span> value<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>上述代码中obj2的y属性由obj代理</p></blockquote><h3 id="vue中的数据代理" tabindex="-1"><a class="header-anchor" href="#vue中的数据代理" aria-hidden="true">#</a> Vue中的数据代理</h3><blockquote><p>通过vm对象来代理data对象中的属性 原理:</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>&gt; i. 通过`Object.defineProperty()`把data对象的所有属性添加到Vue中
&gt; ii. 为每一个添加到vm上的属性都指定一个getter&amp;setter，在getter&amp;setter内部读写data中对应的属性
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="事件处理" tabindex="-1"><a class="header-anchor" href="#事件处理" aria-hidden="true">#</a> 事件处理</h2><ol><li>使用v-on:xxx or @xxx 绑定事件，xxx是事件名 xxx最好不要用箭头函数来代替 否则</li><li>事件的回调需要配置在methods对象上，最终会在vm对象上</li><li>methods中的函数不能用箭头函数，否则this就不再是vm</li><li>methods中配置的函数，都是被Vue所管理的函数，this的指向是 vm 或 组件实例对象</li><li>@click=“demo” 和 @click=“demo($event)”效果一致，后者可以传参</li></ol><h3 id="事件修饰符" tabindex="-1"><a class="header-anchor" href="#事件修饰符" aria-hidden="true">#</a> 事件修饰符</h3><ol><li>prevent: 阻止默认事件</li><li>stop: 阻止事件冒泡</li><li>once: 事件只触发一次</li><li>capture: 使用事件的捕获模式</li><li>self: 只有event.target是当前操作的元素时才触发事件</li><li>passive: 事件的默认行为立即执行，无需等待事件回调执行完毕</li></ol><h3 id="键盘事件" tabindex="-1"><a class="header-anchor" href="#键盘事件" aria-hidden="true">#</a> 键盘事件</h3><ol><li><p>Vue中常用的按键别名</p><ul><li>回车 =&gt; enter</li><li>删除 =&gt; delete（捕获’删除’和’退格’键）</li><li>退出 =&gt; esc</li><li>空格 =&gt; space</li><li>换行 =&gt; tab</li><li>上 =&gt; up</li><li>下 =&gt; down</li><li>左 =&gt; left</li><li>右 =&gt; right</li></ul></li><li><p>Vue未提供别名的按键，可以使用按键原始的key值(keyCode也可，但不推荐)去绑定 ```html</p><p><code>&lt;input type=&#39;text&#39; placeholder=&quot;按下键盘提示key&amp;keyCode&quot; @keydown=&#39;showInfo&#39;&gt;</code></p><div class="language-&gt; ext-&gt; line-numbers-mode"><pre class="language-&gt;"><code>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>系统修饰键(用法特殊)：ctrl, alt, shift, meta</p><p>(1). 配合keyup：按下修饰键的同时按下其他键，释放其他键事件才会释放~~(在本地Chrome测试时并不需要)~~</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code> ```html
 &lt;div id=&#39;root&#39;&gt;
     &lt;input type=&#39;text&#39; placeholder=&quot;按下键盘提示key&amp;keyCode&quot; @keyup.ctrl=&#39;showInfo&#39;&gt;
 &lt;/div&gt;
 &lt;script&gt;
     const vm = new Vue({
         el : &#39;#root&#39;,
         data: {

         },
         methods: {
             showInfo(e){
                 console.log(e.key, e.keyCode);
             }
         }
     })
 &lt;/script&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>
(2). 配合keydown：正常触发事件

(3). 自定义键名: Vue.config.keyCodes.自定义键名 = 键码

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>连用</p><ul><li><code>@keyup.ctrl.i</code>:只有当同时按下ctrl与i且释放i时才会触发事件</li><li><code>@click.stop.prevent</code>: 先阻止冒泡，后阻止默认事件的触发</li></ul></li></ol><h2 id="计算属性" tabindex="-1"><a class="header-anchor" href="#计算属性" aria-hidden="true">#</a> 计算属性</h2><ol><li><p>要用的属性不存在，要通过已有的属性计算得来</p></li><li><p>底层借助了Object.defineProperty方法提供的setter和getter</p><div class="language-tsx ext-tsx line-numbers-mode"><pre class="language-tsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    const vm = new Vue({
        el : &#39;#root&#39;,
        data: {
            firstName: &#39;Kaikai&#39;,
            lastName: &#39;Ji&#39;
        },
        computed: {
            fullName:{
                get(){
                    console.log(&quot;get&quot;);
                    return this.lastName + &#39; - &#39; + this.firstName;
                },
                set(value){
                    console.log(&quot;set&quot;);
                    let name = value.split(&#39;-&#39;);
                    this.lastName = name[0];
                    this.firstName = name[1];
                }
            }
        }
    })
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>get函数执行时机：</p><ul><li>初次读取时会执行一次</li><li>当依赖的数据发生变化时会被再次调用</li></ul></li><li><p>优势：与methods相比，内部有缓存机制(服用)，效率更高，调用更方便</p></li><li><p>计算属性最终会出现在vm这个Vue实例身上，直接读取调用即可</p></li><li><p>如果计算属性要被修改，可以通过set函数去修改计算属性所依赖的数据</p></li><li><p>只读不写可以简写：</p><div class="language-tsx ext-tsx line-numbers-mode"><pre class="language-tsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    const vm = new Vue({
        el: &#39;#root&#39;,
        data:{
            firstName: &#39;Kaikai&#39;,
            lastName: &#39;Ji&#39;
        },
        computed:{
            fullName(){
                return this.lastName + &#39; - &#39; + this.firstName
            }
        }
    })
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><h2 id="监视属性-侦听属性" tabindex="-1"><a class="header-anchor" href="#监视属性-侦听属性" aria-hidden="true">#</a> 监视属性（侦听属性）</h2><blockquote><p>两种写法</p></blockquote><ul><li>在定义Vue实例时添加监视属性</li><li>Vue实例定义好之后添加监视属性</li><li>配置字段immediate为true，则立即执行（即初始化时便执行一次）</li></ul><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">const</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">el</span><span class="token operator">:</span> <span class="token string">&#39;#root&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">isHot</span><span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span>
    <span class="token literal-property property">watch</span><span class="token operator">:</span><span class="token punctuation">{</span>
    <span class="token comment">// isHot:{</span>
    <span class="token comment">//     immediate: true,</span>
    <span class="token comment">//     handler(newValue, oldValue){</span>
    <span class="token comment">//         console.log(&#39;isHot被修改了&#39;, newValue, oldValue);</span>
    <span class="token comment">//     }</span>
    <span class="token comment">// }</span>
        <span class="token function">isHot</span><span class="token punctuation">(</span><span class="token parameter">newValue<span class="token punctuation">,</span> oldValue</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;isHot被修改了&quot;</span><span class="token punctuation">,</span> newValue<span class="token punctuation">,</span> oldValue<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// vm.$watch(&#39;isHot&#39;, {</span>
<span class="token comment">//     handler(newValue, oldValue){</span>
<span class="token comment">//         console.log(&#39;isHot被修改了&#39;)</span>
<span class="token comment">//     }</span>
<span class="token comment">// })</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>监视多级结构某个属性的变化</p></blockquote><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">el</span><span class="token operator">:</span> <span class="token string">&#39;#root&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">number</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
            <span class="token literal-property property">b</span><span class="token operator">:</span> <span class="token number">2</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">watch</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string-property property">&#39;number.a&#39;</span><span class="token operator">:</span><span class="token punctuation">{</span> <span class="token comment">// 务必停用简写形式 number.a</span>
            <span class="token function">handler</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;a被改变了&#39;</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>深度监视</p></blockquote><ul><li><p>监视多级结构中所有属性的变化，即观察多层；</p></li><li><p>在watch中添加配置项<code>deep</code> ，值为<code>true</code>；</p><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token literal-property property">watch</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">number</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">deep</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token function">handler</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;number改变了&#39;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>若不加，默认为<code>false</code>, 则观察不到number中元素值的变化，即只能观察到1层。</p></li></ul><h2 id="computed与watch之间的区别" tabindex="-1"><a class="header-anchor" href="#computed与watch之间的区别" aria-hidden="true">#</a> <code>computed</code>与<code>watch</code>之间的区别</h2><ol><li>computed能完成的功能，watch都能完成</li><li>watch能完成的工作，computed不一定能完成，例如:watch可以进行异步操作</li></ol><h3 id="两个重要的原则" tabindex="-1"><a class="header-anchor" href="#两个重要的原则" aria-hidden="true">#</a> 两个重要的原则</h3><ol><li>所有的<strong>Vue管理的函数</strong>，最好写成<strong>普通函数</strong>，这样this的指向才是vm或组件实例对象</li><li>所有<em><strong>不被Vue所管理的函数</strong></em>（定时器的回调函数，ajax的回调函数，Promise的回调函数等），最好写成<em><strong>箭头函数</strong></em>，这样this的指向才是vm或组件实例对象</li></ol><h2 id="绑定样式" tabindex="-1"><a class="header-anchor" href="#绑定样式" aria-hidden="true">#</a> 绑定样式</h2><h3 id="class-样式-style-样式" tabindex="-1"><a class="header-anchor" href="#class-样式-style-样式" aria-hidden="true">#</a> class 样式 &amp; style 样式</h3><ol><li>字符串写法：适用于：样式的类名不确定，需要动态指定</li><li>对象写法：适用于：要绑定的样式个数确定，名字确定，但是要动态决定用不用 <ul><li><code>:style=&quot;{fontSize: xxx}&quot;</code> 其中xxx是动态值</li></ul></li><li>数组写法：适用于：要绑定的样式个数不确定，名字也不确定 <ul><li><code>:style=&quot;[a, b]&quot;</code> 其中a，b是样式对象</li></ul></li></ol><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>basic<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mood<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>changeMood<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>styleObj<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
	{{ name }}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span> 
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>basic<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>classArr<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{color: fcolor}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
	{{ name }}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>basic<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>classObj<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>styleArr<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
	{{ name }}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">const</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">el</span><span class="token operator">:</span> <span class="token string">&#39;#root&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;kaikai&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">mood</span><span class="token operator">:</span> <span class="token string">&#39;normal&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">classArr</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;a&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;b&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;c&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token literal-property property">classObj</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            <span class="token literal-property property">b</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            <span class="token literal-property property">c</span><span class="token operator">:</span> <span class="token boolean">true</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token literal-property property">fcolor</span><span class="token operator">:</span> <span class="token string">&#39;red&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">styleArr</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
                <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">&#39;orange&#39;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
                <span class="token literal-property property">fontSize</span><span class="token operator">:</span> <span class="token string">&#39;50px&#39;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token literal-property property">styleObj</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">&#39;blue&#39;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">fontSize</span><span class="token operator">:</span> <span class="token string">&#39;60px&#39;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token function">changeMood</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">const</span> x <span class="token operator">=</span> <span class="token number">3</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>mood <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;happy&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;sad&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;normal&#39;</span><span class="token punctuation">]</span><span class="token punctuation">[</span>Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="条件渲染" tabindex="-1"><a class="header-anchor" href="#条件渲染" aria-hidden="true">#</a> 条件渲染</h2><blockquote><p>v-show: 是否显示 true or false or 表达式（可转为bool值）</p><p>底层：<code>display</code> 属性设置为 <code>none</code> 来隐藏元素</p><p>适用于切换频率较高的场景</p></blockquote><blockquote><p>v-if &amp; v-else-if &amp; v-else : 是否显示元素</p><p>底层: 元素是否存在，不展示的DOM元素直接移除</p><p>可以与<code>&lt;template&gt;</code>元素联合使用，该元素不会破坏DOM结构</p><p>适用于切换频率较低的场景</p></blockquote><h2 id="列表渲染" tabindex="-1"><a class="header-anchor" href="#列表渲染" aria-hidden="true">#</a> 列表渲染</h2><blockquote><p>v-for 指令</p><p>用于展示列表数据</p><p>语法: <code>v-for=&quot;(item, index) in xxx&quot; :key=&quot;yyy&quot;</code></p><p><code>v-for=&quot;(value, key) in xxx&quot; :key=&quot;yyy&quot;</code></p><p>可遍历: 数组，对象，字符串，指定次数</p></blockquote><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>人员列表(遍历数组)<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>(value, index) in persons<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>id<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{ index }}-{{ value }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>汽车信息(遍历对象)<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>(value, key) in car<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>key<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{ key }}-{{ value }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>测试遍历字符串<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>(value, index) in str<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>index<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{index}}-{{value}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>测试遍历指定次数<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>(number, index) in 5<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>index<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{ index }}-{{ number }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="key-的原理" tabindex="-1"><a class="header-anchor" href="#key-的原理" aria-hidden="true">#</a> key 的原理</h2><ol><li>虚拟DOM中key的作用: <ul><li>key是虚拟DOM对象的标识，当数据发生变化时，Vue会根据<strong>新数据</strong>生成<strong>新的虚拟DOM</strong></li><li>Vue进行<strong>新虚拟DOM</strong>与<strong>旧虚拟DOM</strong>的差异比较，比较规则如下:</li></ul></li><li>对比规则: <ul><li>旧虚拟DOM中找到了与新虚拟DOM相同的key: <ul><li>若虚拟DOM中的内容没变，直接使用之前的真实DOM</li><li>若虚拟DOM中的内容变了，则生成新的真实DOM，随后替换掉页面中之前的真实DOM</li></ul></li><li>旧虚拟DOM中未找到与新虚拟DOM相同的key: <ul><li>创建新的真实DOM，随后渲染到页面</li></ul></li></ul></li><li>用index作为key(默认)可能引发的问题: <ul><li>若对数据进行: 逆序添加，逆序删除等破坏顺序的操作: <ul><li>会产生没有必要的真实DOM更新 —&gt; 界面效果没问题，但效率低</li></ul></li><li>如果结构中还包括输入类的DOM: <ul><li>会产生错误DOM更新 —&gt; 界面有问题</li><li>因为纵使输入类的真实DOM不同(比如说value值不同)，他们的虚拟DOM仍是相同的</li></ul></li></ul></li><li>开发中key的选择: <ul><li>最好使用数据的唯一标识作为key</li><li>如果不存在破坏顺序的操作，使用index作为key也是没有问题的</li></ul></li></ol><h2 id="列表过滤" tabindex="-1"><a class="header-anchor" href="#列表过滤" aria-hidden="true">#</a> 列表过滤</h2><ol><li>用watch实现</li></ol><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token literal-property property">watch</span><span class="token operator">:</span><span class="token punctuation">{</span>
 <span class="token literal-property property">keyWord</span><span class="token operator">:</span> <span class="token punctuation">{</span> 
	<span class="token literal-property property">immediate</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> 
	<span class="token function">handler</span><span class="token punctuation">(</span><span class="token parameter">newValue<span class="token punctuation">,</span> oldValue</span><span class="token punctuation">)</span><span class="token punctuation">{</span> 
	<span class="token keyword">this</span><span class="token punctuation">.</span>filPersons <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>persons<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">person</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
	 <span class="token keyword">return</span> person<span class="token punctuation">.</span>name<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>keyWord<span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
	 <span class="token punctuation">}</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
 <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol><li>用computed实现</li></ol><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token literal-property property">computed</span><span class="token operator">:</span> <span class="token punctuation">{</span>
 <span class="token function">filPersons</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
 console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>persons<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">person</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
 console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;=&gt;&quot;</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token keyword">return</span> person<span class="token punctuation">.</span>name<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>keyWord<span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
 <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="列表排序" tabindex="-1"><a class="header-anchor" href="#列表排序" aria-hidden="true">#</a> 列表排序</h2><blockquote><p>Array.prototype.sort() 原数组原地排序，并不进行复制</p><p>默认排序顺序是在将元素转换为字符串，然后比较它们的 UTF-16 代码单元值序列时构建的</p><p><code>arr.sort([compareFunction])</code></p><p><code>compareFunction(a, b)</code></p><p>小于0，a被排在b之前</p><p>大于0，a被排在b之后</p><p>等于0，a，b位置不变</p><p><code>Array.prototype.map()</code></p><p>map() 方法创建一个新数组，这个新数组由原数组中的每个元素都调用一次提供的函数后的返回值组成。</p></blockquote><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token literal-property property">computed</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">filPersons</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>persons<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">person</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
            <span class="token keyword">return</span> person<span class="token punctuation">.</span>name<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>keyWord<span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token operator">-</span><span class="token number">1</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 判断是否需要排序</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>sortType<span class="token punctuation">)</span><span class="token punctuation">{</span>
            arr<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">p1<span class="token punctuation">,</span> p2</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
                <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>sortType <span class="token operator">===</span> <span class="token number">1</span> <span class="token operator">?</span> p1<span class="token punctuation">.</span>age <span class="token operator">-</span> p2<span class="token punctuation">.</span>age <span class="token operator">:</span> p2<span class="token punctuation">.</span>age <span class="token operator">-</span> p1<span class="token punctuation">.</span>age<span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> arr
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="监测数据改变的原理" tabindex="-1"><a class="header-anchor" href="#监测数据改变的原理" aria-hidden="true">#</a> 监测数据改变的原理</h2><h3 id="vue监测对象中数据的改变" tabindex="-1"><a class="header-anchor" href="#vue监测对象中数据的改变" aria-hidden="true">#</a> Vue监测对象中数据的改变</h3><ol><li>数据加工（劫持） <ul><li>数据代理: 当数据发生改变时，<strong>重新解析模板</strong>（解析模板之后生成虚拟DOM，新旧虚拟DOM对比，更新页面）；</li><li>这里的getter和setter是reactiveGetter和reactiveSetter，即响应式的getter和setter；</li><li>加工后data成为了一个Observer对象，监测的正是对象中数据的改变，一旦数据改变reactiveSetter就会去重新解析模板。</li></ul></li><li>vm._data = data</li><li>Vue.set(target, key, val)&amp;vm.$set(target, key, val) <ul><li>向vue追加响应式的数据</li><li>为什么vm.xx和vm._data.xx不行？ <ul><li>因为vm.xx是对vm._data.xx做的数据代理</li><li>而通过vm._data.xx添加数据时，Vue并不会为xx添加reactiveGetter和reactiveSetter，故只是添加了数据，而没有与模板建立联系，显然是无法渲染到页面当中的。</li></ul></li><li>注意target不能是Vue实例，或者Vue实例的根数据对象，即不能直接往data里添加新的property，而可以向data中的Object/Array里添加property。</li></ul></li></ol><h3 id="vue检测数组中数据的改变" tabindex="-1"><a class="header-anchor" href="#vue检测数组中数据的改变" aria-hidden="true">#</a> Vue检测数组中数据的改变</h3><ol><li>Vue并没有为数组中的元素添加reactiveGetter和reactiveSetter, 因此直接通过vm.xx[x]/vm._data.xx[x]来修改元素是不会触发模板的重新解析的，自然不会更新页面。</li><li>Vue对数组的变更方法做了封装，使得其能够在变更数组之后重新解析模板，从而更新页面，有以下7中方法: <ul><li>push(): 追加一个元素</li><li>pop(): 删除最后一个元素</li><li>shift(): 删除第一个元素</li><li>unshift(): 开头增加一个元素</li><li>splice(): 指定位置插入,删除,替换元素</li><li>sort(): 排序</li><li>reverse(): 反转数组</li></ul></li><li>Vue.set(target, key, val)&amp;vm.$set(target, key, val)两个方法也可以在为数组添加元素之后重新解析模板。</li></ol><h2 id="v-model收集表单中的数据" tabindex="-1"><a class="header-anchor" href="#v-model收集表单中的数据" aria-hidden="true">#</a> v-model收集表单中的数据</h2><ul><li><code>&lt;input type=&quot;text&quot;/&gt;</code>, v-model收集的是value值, 用户输入的就是value值</li><li><code>&lt;input type=&quot;radio&quot;/&gt;</code>, v-model收集的是value值, 且要给input元素设置value属性</li><li><code>&lt;input type=&quot;checkbox&quot;/&gt;</code><ol><li>没有配置input的value属性, 那么收集的就是checked(勾选or未勾选, 是布尔值)</li><li>配置input的value属性: <ul><li>v-model的初始值(vue配置项data中的对应字段)是非数组, 那么收集的就是checked</li><li>data中绑定的字段是数组, 那么收集的就是value组成的数组</li></ul></li></ol></li></ul><p>备注:</p><p>v-model的三个修饰符</p><p>lazy: input失去焦点vue再收集数据(更新data)</p><p>number: 输入字符串转为有效数字</p><p>trim: 过滤输入的首尾空格</p><h2 id="过滤器" tabindex="-1"><a class="header-anchor" href="#过滤器" aria-hidden="true">#</a> 过滤器</h2><ul><li>定义: 对要显示的数据进行特定格式化之后在显示(适用于一些简单逻辑的处理)</li><li>语法: <ul><li>注册过滤器: <ul><li>Vue.filter(name, callback): 注册全局过滤器</li><li>new Vue{filters: {}}: 注册局部过滤器</li></ul></li><li>使用过滤器: 0 或 v-bind:属性 = “xxx|过滤器名”</li></ul></li><li>备注: <ul><li>过滤器也可以接收额外参数，多个过滤器也可以串联</li><li>并没有改变原本的数据结构，是产生新的对应的数据</li></ul></li></ul><blockquote><p>callback: 回调函数</p><p>A “callback” is any function that is called by another function which takes the first function as a parameter. （在一个函数中调用被传入的函数就是回调，而这个被传入的函数就是回调函数）</p></blockquote><h2 id="内置指令" tabindex="-1"><a class="header-anchor" href="#内置指令" aria-hidden="true">#</a> 内置指令</h2><table><thead><tr><th>指令</th><th>功能</th></tr></thead><tbody><tr><td>v-bind</td><td>单向绑定解析表达式，<code>v-bind:xxx</code>可简写为<code>:xxx</code></td></tr><tr><td>v-model</td><td>双向数据绑定，绑定表单元素的value属性，<code>v-model:value</code>可简写为<code>v-model</code></td></tr><tr><td>v-for</td><td>遍历数组/对象/字符串/指定次数</td></tr><tr><td>v-on</td><td>绑定事件监听，v-on:xxx可简写为@xxx</td></tr><tr><td>v-if</td><td>条件渲染（控制节点是否存在）</td></tr><tr><td>v-else-if</td><td>条件渲染（控制节点是否存在）</td></tr><tr><td>v-else</td><td>条件渲染（控制节点是否存在）</td></tr><tr><td>v-show</td><td>条件渲染（控制节点是否展示）</td></tr><tr><td>v-text</td><td>向其所在的节点中渲染文本内容，注意v-text中的内容会替换掉节点中的内容</td></tr><tr><td>v-html</td><td>支持结构的解析</td></tr><tr><td>v-cloak</td><td>一个没有值的特殊属性，Vue实例创建完毕并接管容器后，会删掉v-cloak属性</td></tr><tr><td>v-once</td><td>无值，v-once所在节点在初次动态渲染后，就视为静态内容了，以后数据的改变不会引起v-once所在结构的更新。</td></tr><tr><td>v-pre</td><td>跳过其所在节点的编译过程，可利用其跳过没有使用指令语法、插值语法的节点，会加快编译。</td></tr></tbody></table><h2 id="自定义指令" tabindex="-1"><a class="header-anchor" href="#自定义指令" aria-hidden="true">#</a> 自定义指令</h2><blockquote><p>语法：</p></blockquote><ol><li>局部指令：函数式 <code>new Vue({directives: {指令名: 回调函数}})</code> 对象式 <code>new Vue({directives: {指令名: 配置对象}})</code></li><li>全局指令：函数式 <code>Vue.directive(指令名, 回调函数)</code> 对象式 <code>Vue.directive(指令名, 配置对象)</code> 注意事项：</li><li>指令名定义时不加 <code>v-</code> ，使用时加</li><li>指令名如果是多个单词，要使用<em>kebab-case</em>命名方式，不要用<em>camelCase</em>命名</li></ol><blockquote></blockquote><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>	
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">v-big-number</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>n<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name"><span class="token namespace">v-fbind:</span>value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>n<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>n++<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>+1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
	<span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
		<span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>
			<span class="token literal-property property">n</span><span class="token operator">:</span> <span class="token number">1</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token literal-property property">directives</span><span class="token operator">:</span> <span class="token punctuation">{</span>
			<span class="token comment">// 函数式: 执行时机:</span>
			<span class="token comment">// 1. bind: 指令与元素成功绑定时(最初，此时已经解析出真实DOM，但还未插入页面)</span>
			<span class="token comment">// 2. update: 指令所在模板被重新解析时</span>
			<span class="token string">&#39;big-number&#39;</span><span class="token punctuation">(</span>element<span class="token punctuation">,</span> binding<span class="token punctuation">)</span><span class="token punctuation">{</span>
				element<span class="token punctuation">.</span>innerText <span class="token operator">=</span> binding<span class="token punctuation">.</span>value <span class="token operator">*</span> <span class="token number">10</span>
				console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span> <span class="token comment">// window</span>
			<span class="token punctuation">}</span><span class="token punctuation">,</span>
			<span class="token comment">// 对象式:</span>
			<span class="token literal-property property">fbind</span><span class="token operator">:</span> <span class="token punctuation">{</span>
				<span class="token comment">// 指令与元素成功绑定时(最初，此时已经解析出真实DOM，但还未插入页面)</span>
				<span class="token function">bind</span><span class="token punctuation">(</span><span class="token parameter">element<span class="token punctuation">,</span> binding</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
					element<span class="token punctuation">.</span>value <span class="token operator">=</span> binding<span class="token punctuation">.</span>value
				<span class="token punctuation">}</span><span class="token punctuation">,</span>
				<span class="token comment">// 指令所在元素被插入页面时</span>
				<span class="token function">inserted</span><span class="token punctuation">(</span><span class="token parameter">element<span class="token punctuation">,</span> binding</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
					element<span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
				<span class="token punctuation">}</span>
				<span class="token comment">// 指令所在的模板被重新解析时</span>
				<span class="token function">update</span><span class="token punctuation">(</span><span class="token parameter">element<span class="token punctuation">,</span> binding</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
					element<span class="token punctuation">.</span>value <span class="token operator">=</span> binding<span class="token punctuation">.</span>value
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="生命周期" tabindex="-1"><a class="header-anchor" href="#生命周期" aria-hidden="true">#</a> 生命周期</h2><blockquote><p>概念理解：</p><ol><li>又名：生命周期回调函数、生命周期函数、生命周期钩子</li><li>是什么：Vue在关键时刻为我们调取的一些特殊名称的函数</li><li>生命周期函数的名字不可更改，其内容由我们根据需求编写</li><li>生命周期函数中的this指向vm或组件实例对象</li></ol></blockquote><table><thead><tr><th>函数名</th><th>调用时机</th></tr></thead><tbody><tr><td>挂载</td><td></td></tr><tr><td>beforeCreate</td><td>事件和生命周期创建之后，数据检测和数据代理创建之前</td></tr><tr><td>created</td><td>数据检测和数据代理创建之后，模板编译（创建虚拟DOM）之前</td></tr><tr><td>beforeMount</td><td>模板编译（虚拟DOM创建）之后，真实DOM创建和挂载之前</td></tr><tr><td>mounted</td><td>真实DOM创建并挂载之后，至此页面才真正完成渲染，成为了一个正常的页面，初始化结束。</td></tr><tr><td>更新</td><td>when data changes</td></tr><tr><td>beforeUpdate</td><td>数据更新后，新虚拟DOM生成前，真实DOM更新前</td></tr><tr><td>updated</td><td>页面（真实DOM）更新后</td></tr><tr><td>销毁</td><td>when vm.$destroy() is called</td></tr><tr><td>beforeDestroy</td><td>销毁之前，能访问到数据和方法，但对数据的修改不会触发更新</td></tr><tr><td>destroyed</td><td>实例销毁之后</td></tr></tbody></table><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
	<span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token comment">/*
			初始化操作:
			1. 发送ajax请求
			2. 启动定时器
			3. 绑定自定义事件
			4. 订阅消息
			……
		*/</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token function">beforeDestroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token comment">/*
			收尾工作: 
			1. 清除定时器
			2. 解绑自定义事件
			3. 取消订阅消息
			……
		*/</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>关于销毁Vue实例 <ol><li>销毁后借助Vue开发者工具开不到任何消息</li><li>销毁后自定义事件会失效，但是原生DOM事件仍然有效</li><li>一般不会在beforeDestroy操作数据，因为即使操作数据也不会再触发更新流程了</li></ol></li></ul><p><img src="/Kaikai-s-Blog/images/FrontEnd/Vue/life.png" alt="life"></p><h2 id="组件化编程" tabindex="-1"><a class="header-anchor" href="#组件化编程" aria-hidden="true">#</a> 组件化编程</h2><ul><li><p>定义组件</p><p>使用Vue.extend(options)创建组件，其中options和new Vue(options)时传入的那个options几乎一样，区别如下:</p><ol><li>el不能写 —— 组件由vm实例管理，vm实例中的el决定服务哪个容器</li><li>data必须写成函数 —— 避免组件被复用时，数据存在引用关系</li></ol><p><code>tips</code>:</p><ol><li>使用template配置项可以配置组件的结构</li><li>const school = Vue.extend(options) ⇒ const school = options</li></ol></li><li><p>注册组件</p><ol><li>局部注册：<code>new Vue</code> 时传入 components配置项</li><li>全局注册：<code>Vue.component(’组件名’, 组件)</code></li></ol><p>组件名：</p><ol><li>一个单词组成： <ol><li>首字母小写：school</li><li>首字母大写：School</li></ol></li><li>多个单词组成： <ol><li>kebab-case命名：my-school</li><li>CamelCase命名：MySchool（需要Vue脚手架支持）</li></ol></li><li>备注： <ol><li>组件名尽可能回避HTML中已有的元素名称（h2、H2）</li><li>可以使用name配置项指定组件在开发者工具中呈现的名字</li></ol></li></ol></li><li><p>使用组件</p><p>编写组件标签：</p><ol><li><code>&lt;组件名&gt;&lt;/组件名&gt;</code></li><li><code>&lt;组件名/&gt;</code></li></ol><p><code>tips</code>: 第二种写法只有在使用脚手架时才可使用</p></li></ul><h3 id="vuecomponent" tabindex="-1"><a class="header-anchor" href="#vuecomponent" aria-hidden="true">#</a> VueComponent</h3><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code>school <span class="token operator">=</span> Vue<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span>
	<span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;School&quot;</span>
	<span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		<span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;XDU&#39;</span><span class="token punctuation">,</span>
		<span class="token literal-property property">location</span><span class="token operator">:</span> <span class="token string">&#39;Xian Shaanxi&#39;</span>
	<span class="token punctuation">}</span>
	<span class="token literal-property property">template</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
		&lt;h2&gt;{{ name }}&lt;/h2&gt;
		&lt;h2&gt;{{ location }}&lt;/h2&gt;
	</span><span class="token template-punctuation string">`</span></span>
<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>关于VueComponent</p><ol><li><p>school组件本质是一个VueComponent构造函数（由Vue.extend返回）</p></li><li><p>使用 <code>&lt;school/&gt; 或 &lt;school&gt;&lt;/school&gt;</code> 标签时，会调用构造函数（ <code>new VueComponent</code>）来创建一个组件实例对象</p></li><li><p>💢 每次调用 <code>Vue.extend()</code> 返回的都是一个全新的 <code>VueComponent</code> 构造函数</p></li><li><p>关于 <code>this</code> 指向：</p><ol><li><code>Vue.extend(options)</code>组件配置中： <code>VueComponent</code>实例对象</li><li><code>new Vue(options)</code> 配置中： <code>Vue</code> 实例对象</li></ol></li><li><p><code>Vue</code> 实例对象 简称 <code>vm</code></p><p><code>VueComponent</code> 实例对象 简称 <code>vc</code></p></li></ol><h3 id="一个重要的内置关系" tabindex="-1"><a class="header-anchor" href="#一个重要的内置关系" aria-hidden="true">#</a> 一个重要的内置关系</h3><p>目的：让组件实例对象可以访问到Vue原型上的属性和方法</p><ol><li><p>VueComponent.prototype.__ proto__ === Vue.prototype</p></li><li><p>理解：组件（ <code>VueComponent</code>构造函数，即 <code>Vue.extend()</code>）的显式原型对象 的隐式原型对象 就是 Vue（ <code>Vue</code> 构造函数）的显示原型对象</p></li><li><p>有这个关系的好处：</p><p>让组件实例对象可以访问到Vue原型上的属性和方法</p></li></ol><h2 id="单文件组件" tabindex="-1"><a class="header-anchor" href="#单文件组件" aria-hidden="true">#</a> 单文件组件</h2><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">// School.vue</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
	&lt;!-- 组件的结构（需要一个根元素） --&gt;
	</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>demo<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
	</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
	// 组件交互相关的代码
	export default {
		name: &#39;School&#39;,
		data(){
			return {}
		},
		method: {
		
		}
	}
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
 
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
	/* 组件的样式 */
	.demo{
		background-color: orange;
	}
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">// App.vue</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
	</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">School</span></span><span class="token punctuation">/&gt;</span></span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
	import School from &#39;./School&#39;

	export default {
		name: &quot;App&quot;,
		components: {
			School
		}
	}
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">// main.js</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">&#39;./App.vue&#39;</span>
<span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
	<span class="token literal-property property">el</span><span class="token operator">:</span> <span class="token string">&quot;#root&quot;</span><span class="token punctuation">,</span>
	<span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		App
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token literal-property property">template</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
		&lt;App&gt;&lt;/App&gt;
	</span><span class="token template-punctuation string">`</span></span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token comment">&lt;!-- index.html --&gt;</span>
<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>root<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>../js/vue.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>./main.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>[x] JavaScript 原型</li><li>[x] ES6 模块化 统一暴露 分别暴露 默认暴露</li></ul><h2 id="ref属性" tabindex="-1"><a class="header-anchor" href="#ref属性" aria-hidden="true">#</a> ref属性</h2><ul><li>用途 <ol><li>给元素或子组件注册引用信息（代替html元素的id属性）</li><li>获取真实DOM元素（应用于html标签），组件实例对象（应用于组件标签）</li></ol></li><li>使用 <ol><li>打标签： <code>&lt;h1 ref=&quot;xxx&quot;&gt; or &lt;School ref=&quot;xxx&quot;&gt;&lt;/School&gt;</code></li><li>获取： <code>this.$refs.xxx</code></li></ol></li></ul><h2 id="props配置项" tabindex="-1"><a class="header-anchor" href="#props配置项" aria-hidden="true">#</a> props配置项</h2><ul><li><p>功能</p><p>让组件接收外部传过来的数据</p></li><li><p>传递数据</p><p>为为组件标签添加属性</p><p><code>&lt;Demo name=&quot;xxx&quot;&gt;</code></p></li><li><p>接收数据</p><ol><li><p>单纯的接收</p><p><code>props: [&#39;name&#39;]</code></p></li><li><p>限制数据类型</p><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{</span>
	<span class="token literal-property property">name</span><span class="token operator">:</span> String<span class="token punctuation">,</span>
	<span class="token literal-property property">age</span><span class="token operator">:</span> Number
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>限制类型、限制必要性、指定默认值</p><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{</span>
	<span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token literal-property property">type</span><span class="token operator">:</span> String<span class="token punctuation">,</span> <span class="token comment">// 类型</span>
		<span class="token literal-property property">required</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 必要性</span>
		<span class="token keyword">default</span><span class="token operator">:</span> <span class="token string">&#39;kaikai&#39;</span> <span class="token comment">// 默认值</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol></li><li><p>备注</p><p>props是只读的，即属性值一旦传入就最好不要更改</p><p>一旦更改，就会发出警告</p><p>若必须更改，可复制props中的内容到data配置项中，去修改data中的数据</p></li></ul><h2 id="mixin配置项" tabindex="-1"><a class="header-anchor" href="#mixin配置项" aria-hidden="true">#</a> mixin配置项</h2><ul><li><p>功能</p><p>可以把多个组件公用的配置提取成一个混入对象</p></li><li><p>使用方式</p><ol><li><p>定义混入</p><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token punctuation">{</span>
	<span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>···<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>···<span class="token punctuation">}</span>
	···
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>使用混入</p><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token number">1.</span> 全局混入 main<span class="token punctuation">.</span>js
Vue<span class="token punctuation">.</span><span class="token function">mixin</span><span class="token punctuation">(</span>xxx<span class="token punctuation">)</span>
<span class="token number">2.</span> 局部混入 xx<span class="token punctuation">.</span>vue
<span class="token literal-property property">minxins</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;xxx&#39;</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol></li></ul><h2 id="插件" tabindex="-1"><a class="header-anchor" href="#插件" aria-hidden="true">#</a> 插件</h2><p>功能：用于增强Vue，为Vue添加全局功能的工具代码</p><p>本质：包含install方法的一个对象，install方法第一个参数是Vue，第二个之后的参数是插件使用者传递的数据</p><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">// plugins.js</span>
<span class="token comment">// 定义插件 </span>
<span class="token comment">// Vue2</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
	<span class="token function">install</span><span class="token punctuation">(</span><span class="token parameter">Vue<span class="token punctuation">,</span> options</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		<span class="token comment">// 1. 添加全局过滤器</span>
		Vue<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token comment">// 2. 添加全局指令</span>
		Vue<span class="token punctuation">.</span><span class="token function">directive</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token comment">// 3. 配置全局混入</span>
		Vue<span class="token punctuation">.</span><span class="token function">mixin</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token comment">// 3. 添加实例属性与方法</span>
		<span class="token class-name">Vue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">$myMethod</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
		<span class="token class-name">Vue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>$myProperty <span class="token operator">=</span> xxx
	<span class="token punctuation">}</span>
	<span class="token comment">// install: function(Vue, options){}</span>
<span class="token punctuation">}</span>
<span class="token comment">// Vue3</span>
<span class="token keyword">const</span> myPlugin <span class="token operator">=</span> <span class="token punctuation">{</span>
	<span class="token function">install</span><span class="token punctuation">(</span><span class="token parameter">app<span class="token punctuation">,</span> options</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token comment">// 配置此应用</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> myPlugin
<span class="token comment">// or</span>
<span class="token comment">// plugins/translate.js</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
	<span class="token function-variable function">install</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">app<span class="token punctuation">,</span> options</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		<span class="token comment">// 配置: 编写插件代码</span>
		<span class="token comment">// 一个翻译函数 可以被全局调用(添加到globalProperties)</span>
		<span class="token comment">// 逐层索引以获取options对象的深层属性(如果确实有的话)</span>
		app<span class="token punctuation">.</span>config<span class="token punctuation">.</span>globalProperties<span class="token punctuation">.</span><span class="token function-variable function">$translate</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">key</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span> key<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&#39;.&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">o<span class="token punctuation">,</span> i</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>o<span class="token punctuation">)</span> <span class="token keyword">return</span> o<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span> options<span class="token punctuation">)</span>
		<span class="token punctuation">}</span>

		<span class="token comment">// 使用provide函数将插件接收到的options提供给整个应用</span>
		<span class="token comment">// 结果是：插件用户可以在任意组件中注入并访问插件的选项对象了</span>
		app<span class="token punctuation">.</span><span class="token function">provide</span><span class="token punctuation">(</span><span class="token string">&#39;translate&#39;</span><span class="token punctuation">,</span> options<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>  
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">// 使用插件</span>
<span class="token comment">// Vue2</span>
Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">// Vue3</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> createApp <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>
<span class="token keyword">import</span> tanslatePlugin <span class="token keyword">from</span> <span class="token string">&#39;./plugins/translate&#39;</span>

<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">createApp</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>

app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>translatePlugin<span class="token punctuation">,</span> <span class="token punctuation">{</span>
	<span class="token comment">/* 可选项 */</span> 
	<span class="token literal-property property">greetings</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token literal-property property">hello</span><span class="token operator">:</span> <span class="token string">&#39;Bonjour!&#39;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
	</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span><span class="token punctuation">{</span> <span class="token function">$translate</span><span class="token punctuation">(</span><span class="token string">&#39;greetings.hello&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="scoped属性" tabindex="-1"><a class="header-anchor" href="#scoped属性" aria-hidden="true">#</a> scoped属性</h2><p>作用：让样式在局部生效，避免冲突</p><p>写法： <code>&lt;style scoped&gt;</code></p><h2 id="项目构建" tabindex="-1"><a class="header-anchor" href="#项目构建" aria-hidden="true">#</a> 项目构建</h2><h3 id="vue-cli" tabindex="-1"><a class="header-anchor" href="#vue-cli" aria-hidden="true">#</a> Vue-cli</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>vue create project-name
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="vite" tabindex="-1"><a class="header-anchor" href="#vite" aria-hidden="true">#</a> Vite</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> create vite@latest projectName <span class="token punctuation">[</span>-- <span class="token parameter variable">--template</span> vue<span class="token punctuation">]</span>

<span class="token function">npm</span> <span class="token function">install</span>

<span class="token function">npm</span> run dev
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="src" tabindex="-1"><a class="header-anchor" href="#src" aria-hidden="true">#</a> src</h3><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token operator">/</span>src 目录下为源代码，是应该主要关注的地方
<span class="token operator">/</span>src 同级文件 index<span class="token punctuation">.</span>html 是根html文件 即我们要渲染的页面
<span class="token operator">/</span>src<span class="token operator">/</span>components 存放组件
<span class="token operator">/</span>src<span class="token operator">/</span>App Vue实例中的主组件

<span class="token operator">/</span>src<span class="token operator">/</span>main<span class="token punctuation">.</span>js 创建Vue实例 将Vue实例挂载到目标元素
<span class="token keyword">import</span> <span class="token punctuation">{</span> createApp <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">&#39;./App.vue&#39;</span>

<span class="token function">createApp</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">mount</span><span class="token punctuation">(</span><span class="token string">&#39;#app&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="组件的自定义事件" tabindex="-1"><a class="header-anchor" href="#组件的自定义事件" aria-hidden="true">#</a> 组件的自定义事件</h2><aside> 💢 一种组件间的通信方式：适用于 子组件 =⇒ 父组件 传递数据 </aside><h3 id="使用方式" tabindex="-1"><a class="header-anchor" href="#使用方式" aria-hidden="true">#</a> 使用方式</h3><ul><li><p>父组件给子组件绑定事件</p><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">// Parent.vue</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
	// 1. 
	// once修饰符 事件只触发一次
	&lt;Son @event.once=&quot;callback&quot;/&gt;
	// native修饰符 绑定DOM原生事件
	&lt;Son @click.native=&quot;callback&quot;/&gt;
	// 2.
	</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Son</span></span> <span class="token attr-name"><span class="token namespace">v-on:</span>event</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>callback<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span><span class="token plain-text">
	// 3. 
	</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Son</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Son<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>javascript</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
	export default</span><span class="token punctuation">{</span>
		<span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;Parent&quot;</span><span class="token punctuation">,</span>
		<span class="token literal-property property">methods</span><span class="token operator">:</span><span class="token punctuation">{</span>
			<span class="token function">callback</span><span class="token punctuation">(</span><span class="token parameter">params</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
		<span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
			<span class="token comment">// 3. 这种方法的callback只能配置在methods中 或者是使用箭头函数</span>
			<span class="token keyword">this</span><span class="token punctuation">.</span>$ref<span class="token punctuation">.</span>Son<span class="token punctuation">.</span><span class="token function">$on</span><span class="token punctuation">(</span>event<span class="token punctuation">,</span> callback<span class="token punctuation">)</span><span class="token punctuation">,</span>
			<span class="token comment">// 只触发一次</span>
			<span class="token keyword">this</span><span class="token punctuation">.</span>$ref<span class="token punctuation">.</span>Son<span class="token punctuation">.</span><span class="token function">$once</span><span class="token punctuation">(</span>event<span class="token punctuation">,</span> callback<span class="token punctuation">)</span><span class="token punctuation">,</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>javascript</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>子组件触发事件</p><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">// Son.vue</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
	export default {
		emits: [strEventName1, strEventName2], // 显示声明组件要触发的事件
		methods: {
			emitEvent() {
				this.$emit(strEventName1, params) // this指向Son event对应的回调函数中的this应指向Parent
			}
		}
	}
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
	</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
		&lt;button @click=&quot;$emit(strEventName2, params)&quot;&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
		&lt;button @click=&quot;emitEvent&quot;&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
	</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>子组件解绑事件</p><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$off</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>子组件校验事件</p><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
	<span class="token literal-property property">emits</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token comment">// 没有校验</span>
		<span class="token literal-property property">click</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
		<span class="token comment">// 校验submit事件 返回值为布尔值 表示校验成功或失败</span>
		<span class="token function-variable function">submit</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> email<span class="token punctuation">,</span> password <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>  <span class="token comment">// 入参是抛出事件时传入 this.$emit 的内容</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>email <span class="token operator">&amp;&amp;</span> password<span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">return</span> <span class="token boolean">true</span>
			<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
				console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;Invalid submit event payload!&#39;</span><span class="token punctuation">)</span>
				<span class="token keyword">return</span> <span class="token boolean">false</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token function">submitForm</span><span class="token punctuation">(</span><span class="token parameter">email<span class="token punctuation">,</span> password</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">&#39;submit&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> email<span class="token punctuation">,</span> password <span class="token punctuation">}</span><span class="token punctuation">)</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>配合 <code>v-model</code> 使用</p><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">// Dad.vue</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
	</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">CustomInput</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>searchText<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span><span class="token plain-text">
  // 等价于
	&lt;CustomInput
		:modelValue=&quot;searchText&quot;
		@update:modelvalue=&quot;newValue =&gt; searchText = newValue&quot;
	/&gt;
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>在组件中实现 <code>v-model</code></p><p>方案1：</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token comment">&lt;!-- CustomInput.vue --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
	<span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;modelValue&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
	<span class="token literal-property property">emits</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;update:modelValue&#39;</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tempalte</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span>
		<span class="token attr-name">:value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>modelValue<span class="token punctuation">&quot;</span></span>  <span class="token attr-name">&lt;!--</span> <span class="token attr-name">数据单项绑定</span> <span class="token attr-name">modelValue</span> <span class="token attr-name">to</span> <span class="token attr-name">value</span> <span class="token attr-name">--</span><span class="token punctuation">&gt;</span></span>
		@input=&quot;$emit(&#39;update:modelValue&#39;,  $event.target.value)&quot; <span class="token comment">&lt;!-- 数据更新 value to modelValue --&gt;</span>
	/&gt;
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>方案2：</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token comment">&lt;!-- CustomInput.vue --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
	<span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;modelValue&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
	<span class="token literal-property property">emits</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;update: modelValue&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
	<span class="token literal-property property">computed</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token punctuation">{</span>
			<span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>modelValue
			<span class="token punctuation">}</span><span class="token punctuation">,</span>
			<span class="token function">set</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">&#39;update:modelValue&#39;</span><span class="token punctuation">,</span> value<span class="token punctuation">)</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>value<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><a href="/Kaikai-s-Blog/notes/FrontEnd/Vue/LearnVue%20ec77b16bdd8341ab895699689dd5649c.html" class="">v-model</a>修饰符</p><table><thead><tr><th>.lazy</th><th>延迟响应：默认v-model会在input事件后更新数据，加lazy修饰符后会在change事件后更新数据</th></tr></thead><tbody><tr><td>.number</td><td>将用户输入自动转换为number，若无法转换则返回原始值，number修饰符在input元素的属性type为number时自动启用</td></tr><tr><td>.trim</td><td>默认去除用户输入内容中两端的空格</td></tr></tbody></table><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token comment">&lt;!-- 自定义组件修饰符 capitalize --&gt;</span>
<span class="token comment">&lt;!-- Dad.vue --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MyComponent</span> <span class="token attr-name">v-model.capitalize</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>myText<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>  <span class="token comment">&lt;!-- v-model默认绑定 value 属性 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token comment">&lt;!-- MyComponent.vue --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
	<span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token literal-property property">modelValue</span><span class="token operator">:</span> String<span class="token punctuation">,</span>
		<span class="token literal-property property">modelModifiers</span><span class="token operator">:</span> <span class="token punctuation">{</span>
			<span class="token function-variable function">default</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>  <span class="token comment">// 默认值是一个空对象 即编写程序时并不需要编写这个prop</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token literal-property property">emits</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;update:modelValue&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
	<span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>modelModifiers<span class="token punctuation">)</span> <span class="token comment">// { capitalize: true } 由于调用组件时使用了capitalize修饰符</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token function">emitValue</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">let</span> value <span class="token operator">=</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value
			<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>modelModifiers<span class="token punctuation">.</span>capitalize<span class="token punctuation">)</span> <span class="token punctuation">{</span>
				value <span class="token operator">=</span> value<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> value<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">&#39;update: modelValue&#39;</span><span class="token punctuation">,</span> value<span class="token punctuation">)</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> 
		<span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span>
		<span class="token attr-name">:value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>modelValue<span class="token punctuation">&quot;</span></span>  
		<span class="token attr-name">@input</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>emitValue<span class="token punctuation">&quot;</span></span>
	<span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>对于有参数名arg及修饰符的v-model绑定，在组件中生成的props的key值是 <code>arg + &#39;Modifiers&#39;</code></p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MyComponent</span> <span class="token attr-name"><span class="token namespace">v-model:</span>title.capitalize</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>myText<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
	<span class="token literal-property property">props</span><span class="token operator">:</span>&quot; <span class="token punctuation">[</span><span class="token string">&#39;title&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;titleModifiers&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
	<span class="token literal-property property">emits</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;update:title&#39;</span><span class="token punctuation">]</span>
	<span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>titleModifiers<span class="token punctuation">)</span> <span class="token comment">// { capitalize: true }</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h2 id="全局事件总线" tabindex="-1"><a class="header-anchor" href="#全局事件总线" aria-hidden="true">#</a> 全局事件总线</h2><aside> 💢 一种组件间通信的方式，适用于 任意组件间通信 </aside><p>全局事件总线实际上就是通过已有的方法来实现不同组件间通信的方法，关键点在于如何实现相邻组件间的通信，即同级组件间的信息交互：</p><ol><li><p>首先明确的是，同级组件间无法直接通信，二者之间需要一个第三者来连接</p></li><li><p>这个第三者需要满足一下两点条件</p><ol><li>A组件能够交给它信息</li><li>B组件能够访问到信息</li></ol><p>即A B组件都能够与它产生交互（它在哪里？），且其拥有 <code>$emit $on $off</code> 方法（它是什么？）</p></li><li><p>由于它需要具有绑定和触发事件的两个方法，所以他是vm或vc（其实无所谓，只要有这俩方法就行，关键是把它放在哪？）</p></li><li><p>由于组件是实例对象，我们可以借助他们相同的原型对象来实现任意组件间的通信（即把它放在任意组件都可以访问到的原型对象上）：</p><ol><li>首先实例对象是通过 <code>new</code> 关键字来实例化组件的原型对象的</li><li>其次由于组件原型对象是通过 <code>Vue.extend()</code> 返回的</li><li>所以说组件原型对象并不能作为我们使用的原型对象，因为不同组件的组件原型对象不同</li><li>但是由于组件原型对象的__prototype__属性所指向的是Vue原型对象，这个是相同的</li><li>所以说我们可以将第三者放到Vue原型对象上，一旦将第三者放到了Vue的原型对象上，原型链上的任意对象之间均可借助第三者实现通信</li></ol></li></ol><h3 id="使用方式-1" tabindex="-1"><a class="header-anchor" href="#使用方式-1" aria-hidden="true">#</a> 使用方式</h3><ul><li><p>安装全局事件总线</p><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
	···
	<span class="token function">beforeCreate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token class-name">Vue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>$bus <span class="token operator">=</span> <span class="token keyword">this</span> <span class="token comment">// 安装全局事件总线，$bus就是当前应用的vm</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	···
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>使用全局事件总线</p><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token number">1.</span> 绑定事件
<span class="token comment">// A.vue</span>
<span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
	<span class="token function">callback</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">this</span><span class="token punctuation">.</span>$bus<span class="token punctuation">.</span><span class="token function">$on</span><span class="token punctuation">(</span>event<span class="token punctuation">,</span> callback<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token number">2.</span> 触发事件
<span class="token comment">// B.vue</span>
<span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
	<span class="token function">orz</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>$bus<span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span>event<span class="token punctuation">,</span> data<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token number">3.</span> 解绑事件：由于第三者并不会因为某个组件的消失而消失，故需要在组件destroy之前将未来不再需要的自定义事件解绑
<span class="token comment">// B.vue</span>
<span class="token function">beforeDestroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token keyword">this</span><span class="token punctuation">.</span>$bus<span class="token punctuation">.</span><span class="token function">$off</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h2 id="消息订阅与发布" tabindex="-1"><a class="header-anchor" href="#消息订阅与发布" aria-hidden="true">#</a> 消息订阅与发布</h2><aside> 💢 一种组件间通信的方式，适用于 任意组件间通信 </aside><h3 id="使用方法" tabindex="-1"><a class="header-anchor" href="#使用方法" aria-hidden="true">#</a> 使用方法</h3><ul><li><p>安装第三方库</p><p><code>npm i pubsub-js</code></p></li><li><p>引入库</p><p><code>import pubsub from &#39;pubsub-js&#39;</code></p></li><li><p>订阅消息（接收数据）</p><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token function">methods</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token function">callback</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token keyword">this</span><span class="token punctuation">.</span>pId <span class="token operator">=</span> pubsub<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>callback<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>发布消息（发送数据）</p><p><code>pubsub.publish(name, data)</code></p></li><li><p>取消订阅</p><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token function">beforeDestroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	pubsub<span class="token punctuation">.</span><span class="token function">unsubscribe</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>pId<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h2 id="nexttick" tabindex="-1"><a class="header-anchor" href="#nexttick" aria-hidden="true">#</a> $nextTick</h2><h3 id="语法" tabindex="-1"><a class="header-anchor" href="#语法" aria-hidden="true">#</a> 语法</h3><p><code>this.$nextTick(callback)</code></p><h3 id="功能" tabindex="-1"><a class="header-anchor" href="#功能" aria-hidden="true">#</a> 功能</h3><p>下一次DOM更新结束后执行指定回调</p><aside> 💢 **使用时机：** 回调函数所操作的DOM节点是更新之后进行操作才有效的 eg: `v-show` 又false改为true，DOM更新之前对 v-show 所在的节点进行的任何操作都无效 </aside><h2 id="vue封装的过渡与动画" tabindex="-1"><a class="header-anchor" href="#vue封装的过渡与动画" aria-hidden="true">#</a> Vue封装的过渡与动画</h2><h3 id="与常规的过渡与动画的不同" tabindex="-1"><a class="header-anchor" href="#与常规的过渡与动画的不同" aria-hidden="true">#</a> 与常规的过渡与动画的不同</h3><aside> 💢 与常规的过渡与动画的不同在于，使用Vue封装好的过渡与动画的定义方法，Vue会在合适的时候帮我们添加样式及类名，而不需要我们在合适的时间手动添加样式。 </aside><h3 id="使用方法-1" tabindex="-1"><a class="header-anchor" href="#使用方法-1" aria-hidden="true">#</a> 使用方法</h3><ol><li><p>定义样式</p><div class="language-css ext-css line-numbers-mode"><pre class="language-css"><code>&lt;style scoped&gt;
	<span class="token comment">/* 元素进入的样式 */</span>
	<span class="token selector">1. 进入的起点
	.v-enter</span> <span class="token punctuation">{</span>
		<span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translateX</span><span class="token punctuation">(</span>-100%<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token selector">2. 进入的过程
	.v-enter-active</span><span class="token punctuation">{</span>
		<span class="token property">transition</span><span class="token punctuation">:</span> 0.5s linear<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token selector">3. 进入的终点
	.v-enter-to</span> <span class="token punctuation">{</span>
		<span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translateX</span><span class="token punctuation">(</span>0<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token comment">/* 元素离开的样式 */</span>
	<span class="token selector">1. 离开的起点
	.v-leave</span> <span class="token punctuation">{</span>
		<span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translateX</span><span class="token punctuation">(</span>0<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token selector">2. 离开的过程
	.v-leave-active</span> <span class="token punctuation">{</span>
		<span class="token property">transition</span><span class="token punctuation">:</span> 0.5s linear<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token selector">3. 离开的终点
	.v-leave-to</span> <span class="token punctuation">{</span>
		<span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translateX</span><span class="token punctuation">(</span>-100%<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
&lt;/style&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>指定元素</p><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">// 单个元素添加过渡</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>transition</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
	</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">hhh:)</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>transition</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">// 多个元素添加过渡</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>transition-group</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
	</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>(value, index) in xxx<span class="token punctuation">&quot;</span></span> <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>xx<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>transition-group</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>name桥梁</p><aside> 💢 由于同一组件中可能存在多个元素需要添加动画或过渡，因此我们需要在动画与元素之间建立一种一一对应的关系，这时候name属性就派上用场了🙂 </aside><div class="language-css ext-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">&lt;template&gt;
	&lt;transition name=&quot;haha&quot;&gt;
		&lt;h2&gt;hahahhahaha&lt;/h2&gt;
	&lt;/transition&gt;
&lt;/template&gt;
&lt;style&gt;
	.haha-enter, .haha-leave-to</span> <span class="token punctuation">{</span>
		<span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translateX</span><span class="token punctuation">(</span>-100%<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token selector">.haha-enter-to, .haha-leave</span> <span class="token punctuation">{</span>
		<span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translateX</span><span class="token punctuation">(</span>0<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token selector">.haha-enter-active, .haha-leave-active</span> <span class="token punctuation">{</span>
		<span class="token property">transition</span><span class="token punctuation">:</span> 0.5s<span class="token punctuation">,</span> linear
	<span class="token punctuation">}</span>
&lt;/style&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><h3 id="过渡与动画" tabindex="-1"><a class="header-anchor" href="#过渡与动画" aria-hidden="true">#</a> 过渡与动画</h3><aside> 💢 过渡与动画的不同是？ 与过渡transition相比，动画animation中使用关键帧keyframes可以控制动画序列的中间步骤 </aside><aside> 💡 要使用关键帧，先创建一个带名称的 `@keyframes`规则，以便后续使用 `[animation-name](https://developer.mozilla.org/zh-CN/docs/Web/CSS/animation-name)` 属性将动画同其关键帧声明匹配。每个 `@keyframes`规则包含多个关键帧，也就是一段样式块语句，每个关键帧有一个百分比值作为名称，代表在动画进行中，在哪个阶段触发这个帧所包含的样式。 </aside><h3 id="过渡-transition" tabindex="-1"><a class="header-anchor" href="#过渡-transition" aria-hidden="true">#</a> 过渡 transition</h3><p><strong>作用</strong>：可以为一个元素在不同状态之间切换的时候定义不同的过渡效果</p><p>transition是一个简写属性，包括:</p><p>transition: property duration timing-function delay;</p><p>default: transition: all 0 ease 0</p><table><thead><tr><th>transition-{ }</th><th>定义</th></tr></thead><tbody><tr><td>property</td><td>指定要进行过渡的CSS元素</td></tr><tr><td>duration</td><td>指定过渡时间</td></tr><tr><td>timing-function</td><td>指定转速曲线</td></tr><tr><td>delay</td><td>指定延迟</td></tr></tbody></table><h3 id="动画-animation" tabindex="-1"><a class="header-anchor" href="#动画-animation" aria-hidden="true">#</a> 动画 animation</h3><p><strong>作用</strong>：指定一组或多组动画，每组之间用逗号相隔。</p><p>animation是一个简写属性，包括:</p><p>animation: name duration timing-function delay iteration-count direction</p><p>default: transition: none 0 ease 0 1 normal</p><table><thead><tr><th>animation-{ }</th><th>定义</th></tr></thead><tbody><tr><td>name</td><td>指定绑定到选择器的关键帧</td></tr><tr><td>duration</td><td>动画时间</td></tr><tr><td>timing-function</td><td>转速曲线</td></tr><tr><td>delay</td><td>延迟时间</td></tr><tr><td>iteration-count</td><td>播放次数</td></tr><tr><td>direction</td><td>normal reverse alternate</td></tr></tbody></table><ul><li><p>过渡</p><div class="language-css ext-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">&lt;style scoped&gt;
	.</span><span class="token punctuation">{</span> name <span class="token punctuation">}</span><span class="token selector">-enter, .</span><span class="token punctuation">{</span> name <span class="token punctuation">}</span><span class="token selector">-leave-to</span> <span class="token punctuation">{</span>
		<span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translateX</span><span class="token punctuation">(</span>-100%<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token selector">.</span><span class="token punctuation">{</span> name <span class="token punctuation">}</span><span class="token selector">-enter-active, .</span><span class="token punctuation">{</span> name <span class="token punctuation">}</span><span class="token selector">-leave-active</span> <span class="token punctuation">{</span>
		<span class="token property">transition</span><span class="token punctuation">:</span> 0.5 linear<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token selector">.</span><span class="token punctuation">{</span> name <span class="token punctuation">}</span><span class="token selector">-enter-to, .</span><span class="token punctuation">{</span> name <span class="token punctuation">}</span><span class="token selector">-leave</span> <span class="token punctuation">{</span>
		<span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translateX</span><span class="token punctuation">(</span>0<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
&lt;/style&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>动画</p><div class="language-css ext-css line-numbers-mode"><pre class="language-css"><code>&lt;style scoped&gt;
	<span class="token comment">/* 定义关键帧 {animationName}为关键帧的名字 */</span>
	<span class="token atrule"><span class="token rule">@keyframes</span></span> <span class="token punctuation">{</span> animationName <span class="token punctuation">}</span> <span class="token punctuation">{</span>
		<span class="token selector">from</span> <span class="token punctuation">{</span>
			<span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translateX</span><span class="token punctuation">(</span>-100%<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token selector">to</span> <span class="token punctuation">{</span>
			<span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translateX</span><span class="token punctuation">(</span>0px<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	<span class="token selector">.</span><span class="token punctuation">{</span> name <span class="token punctuation">}</span><span class="token selector">-enter-active</span> <span class="token punctuation">{</span>
		<span class="token selector">animation:</span> <span class="token punctuation">{</span> animationName <span class="token punctuation">}</span> 0.5s linear<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token selector">.</span><span class="token punctuation">{</span> name <span class="token punctuation">}</span><span class="token selector">-leave-active</span> <span class="token punctuation">{</span>
		<span class="token selector">animation:</span> <span class="token punctuation">{</span> animationName <span class="token punctuation">}</span> 0.5s linear reverse<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
&lt;/style&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h2 id="todo-pro" tabindex="-1"><a class="header-anchor" href="#todo-pro" aria-hidden="true">#</a> ToDo Pro</h2><h3 id="实现的功能" tabindex="-1"><a class="header-anchor" href="#实现的功能" aria-hidden="true">#</a> 实现的功能</h3><ol><li>新增Todo</li><li>完成</li><li>删除</li></ol><h3 id="练习的vue功能" tabindex="-1"><a class="header-anchor" href="#练习的vue功能" aria-hidden="true">#</a> 练习的Vue功能</h3><ol><li>自定义事件</li><li>事件总线</li><li>消息的订阅与发布</li><li>动画</li></ol><h3 id="组件拆分" tabindex="-1"><a class="header-anchor" href="#组件拆分" aria-hidden="true">#</a> 组件拆分</h3><div class="language-mermaid ext-mermaid line-numbers-mode"><pre class="language-mermaid"><code><span class="token keyword">graph</span> TB
  App<span class="token text string">{App}</span>
	App <span class="token arrow operator">--&gt;</span> Header<span class="token text string">[[Title]]</span>

	App <span class="token arrow operator">--&gt;</span> Body

	Body <span class="token arrow operator">--&gt;</span> TodoList
	Body <span class="token arrow operator">--&gt;</span> DoneList

	TodoList <span class="token arrow operator">--&gt;</span> Todo
	DoneList <span class="token arrow operator">--&gt;</span> Todo

	Footer<span class="token text string">(AddTodo)</span>
	App <span class="token arrow operator">--&gt;</span> Footer
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="配置代理" tabindex="-1"><a class="header-anchor" href="#配置代理" aria-hidden="true">#</a> 配置代理</h2><h3 id="发送请求" tabindex="-1"><a class="header-anchor" href="#发送请求" aria-hidden="true">#</a> 发送请求</h3><ul><li>[ ] 了解一下几种发送请求的方式</li></ul><ol><li><p>xhr</p><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
xhr<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
xhr<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>jQuery <code>$get</code><code>$post</code></p></li><li><p><strong>axios <code>npm i axios</code></strong></p><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code>axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;localhost:5000/index&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>
	<span class="token parameter">response</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token parameter">error</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">.</span>message<span class="token punctuation">)</span>
<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>fetch</p></li></ol><h3 id="跨域问题" tabindex="-1"><a class="header-anchor" href="#跨域问题" aria-hidden="true">#</a> 跨域问题</h3><ul><li>[x] 同源策略？</li></ul><aside> 👉 网页发送Ajax请求需要满足同源策略，即协议相同、域名相同、端口相同，否则就会报错 </aside><h3 id="解决方案" tabindex="-1"><a class="header-anchor" href="#解决方案" aria-hidden="true">#</a> 解决方案</h3><ol><li><p>cors 后端配置响应头</p></li><li><p>jsonp 借助 script 标签的 src 属性</p><p>需要后端配合 且只能处理get请求</p></li><li><p><strong>代理服务器</strong></p><p>网站的请求发送到同源的代理服务器，由代理服务器转发到目标服务器 服务器之间请求的发送没有同源策略的限制，但是接收数据的一方仍可能会检查发送数据的一方的origin即请求头中的host</p><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">// vue.config.js</span>
<span class="token comment">// 配置代理服务器 1：请求会优先匹配前端资源，无匹配项时转发至唯一的非同源服务器</span>
<span class="token literal-property property">devServer</span><span class="token operator">:</span> <span class="token punctuation">{</span>
	<span class="token literal-property property">proxy</span><span class="token operator">:</span> targetOrigin <span class="token comment">// 代理目标的基础路径</span>
<span class="token punctuation">}</span>
<span class="token comment">// 配置代理服务器 2：通过配置不同的前缀来与不同的非同源服务器建立映射</span>
<span class="token literal-property property">devServer</span><span class="token operator">:</span> <span class="token punctuation">{</span>
	<span class="token literal-property property">proxy</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token string-property property">&#39;/prefix&#39;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 转发所有以/prefix开头的请求路径 </span>
			<span class="token literal-property property">target</span><span class="token operator">:</span> targetOrigin<span class="token punctuation">,</span> <span class="token comment">// 目标基础路径</span>
			<span class="token literal-property property">changeOrigin</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 修改请求头中的host以满足同源策略</span>
			<span class="token literal-property property">pathRewrite</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token string-property property">&#39;^/prefix&#39;</span><span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">}</span> <span class="token comment">// 重写请求路径</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
		……
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><h2 id="插槽" tabindex="-1"><a class="header-anchor" href="#插槽" aria-hidden="true">#</a> 插槽</h2><aside> 👉 让父组件可以向子组件指定位置插入html结构，也是一种组件间通信的方式，适用于 父组件 ⇒ 子组件 </aside><h3 id="三种类型" tabindex="-1"><a class="header-anchor" href="#三种类型" aria-hidden="true">#</a> 三种类型</h3><ul><li><p>默认插槽</p><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">// father.vue</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Son</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
	</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">待插入html结构</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Son</span></span><span class="token punctuation">&gt;</span></span>

<span class="token comment">// Son.vue</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
	</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
		</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">插槽 默认内容（即插槽中无html结构插入时显示的内容）</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
	</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>具名插槽</p><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">// Father.vue</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Son</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
	</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name"><span class="token namespace">v-slot:</span>slotName</span><span class="token punctuation">&gt;</span></span><span class="token plain-text"> // 简写: v-slot:slotName -&gt; #slotName
		待插入html结构
	</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Son</span></span><span class="token punctuation">&gt;</span></span>

<span class="token comment">// Son.vue</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
	</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
		</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>slotName<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">默认内容</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
	</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>作用域插槽</p><aside> 👉 父组件使用子组件的数据生成插入子组件的结构 </aside><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">// Father.vue</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Son</span></span>  <span class="token attr-name">v-slot</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{ toDad }<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text"> // 绑定来自子组件中的数据 解包 并命名为games
		</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
			</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>game in toDad<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span><span class="token punctuation">{</span> game <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
		</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Son</span></span><span class="token punctuation">&gt;</span></span>

<span class="token comment">// Son.vue</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
	</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
		</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span> <span class="token attr-name">:toDad</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>games<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
	</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
	export default {
		name: &quot;Son&quot;,
		data(){
			return {
				games: [&quot;cf&quot;, &quot;lol&quot;, &quot;wzry&quot;, &quot;ys&quot;]
			}
		}
	}
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>具名作用域插槽</p><p>作用域插槽与默认插槽相同 仅允许子组件存在一个插槽</p><p>具名作用域插槽可以为子组件设置多个插槽，并绑定指定的数据</p><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">// Father.vue</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Son</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
	&lt;template #slot2=&quot;{ games }&quot;&gt;
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>game in games<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>game[0]<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span><span class="token punctuation">{</span> game <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span><span class="token plain-text"> 
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Son</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">

// Son.vue
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
	</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
		</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>slot2<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:games</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>games<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">games</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
	</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">

</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
	export default {
		name: &quot;Son&quot;,
		data(){
			return {
				games: [&quot;cf&quot;, &quot;lol&quot;, &quot;wzry&quot;, &quot;ys&quot;]
			}
		}
	}
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h2 id="属性attributes-穿透" tabindex="-1"><a class="header-anchor" href="#属性attributes-穿透" aria-hidden="true">#</a> 属性Attributes 穿透</h2><aside> 👉 传递给组件却未被组件声明为props或emits的属性attributes或事件监听器v-on </aside><p>常见的有： <code>class style id</code></p><h3 id="组件以单元素作为根" tabindex="-1"><a class="header-anchor" href="#组件以单元素作为根" aria-hidden="true">#</a> 组件以单元素作为根</h3><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">// Son.vue</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
	</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>btn<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">click me</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">// Father.vue</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
	import Son from &#39;./Son.vue&#39;
	export default{
		name: &quot;Father&quot;,
		components: {
			Son
		},
		methods: {
			callback() {
				console.log(&quot;Nice to meet you, son.&quot;)
			}
		}
	}
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
	&lt;Son class=&quot;large&quot; @click=&quot;callback&quot;&gt;
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">// 最终渲染出的DOM结构</span>
<span class="token comment">// 1. class 和 style 会各自合并：子组件定义的与父组件传入的合并</span>
<span class="token operator">&lt;</span>button <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;btn large&quot;</span> @click<span class="token operator">=</span><span class="token string">&quot;callback&quot;</span><span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="禁用跟组件继承" tabindex="-1"><a class="header-anchor" href="#禁用跟组件继承" aria-hidden="true">#</a> 禁用跟组件继承</h3><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
	export default {
		inheritAttrs: false
	}
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><aside> 👉 禁用根组件继承之后，父组件传入的属性以及事件监听我们依旧能够通过 $attrs 取到 </aside><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">// 禁用组件后 可指定元素绑定属性及事件监听</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
	</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
		</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">v-bind</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>$attrs<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">click me</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
	</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="在v-on事件监听中使用箭头函数时的注意事项" tabindex="-1"><a class="header-anchor" href="#在v-on事件监听中使用箭头函数时的注意事项" aria-hidden="true">#</a> 在v-on事件监听中使用箭头函数时的注意事项</h3><p><strong>Bug复现</strong></p><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token operator">&lt;</span>button @click<span class="token operator">=</span><span class="token string">&quot;()=&gt;console.log(&quot;</span>hahha<span class="token string">&quot;)&quot;</span><span class="token operator">&gt;</span>click me<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><aside> 😡 Uncaught TypeError: Cannot read properties of undefined (reading &#39;log&#39;) </aside><p>由于 <code>@click</code>，即 <code>v-on:click</code> 绑定的语句会被解析，<code>console.log()</code> 实际上是 <code>vc.console.log()</code> ，组件实例对象上当然没有console属性，bug就是这来的</p><p><strong>Bug修复</strong></p><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">// 1. 为组件实例对象添加console属性</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
	export default {
		name: &quot;demo&quot;,
		data(){
			return {
				console
			}
		}
	}
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">// 2. 将回调添加到methods配置项</span>
<span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
	<span class="token function">callback</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;nice to meet you.&quot;</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="状态管理" tabindex="-1"><a class="header-anchor" href="#状态管理" aria-hidden="true">#</a> 状态管理</h2><h3 id="单向数据流" tabindex="-1"><a class="header-anchor" href="#单向数据流" aria-hidden="true">#</a> 单向数据流：</h3><p><img src="/Kaikai-s-Blog/images/FrontEnd/Vue/stream.png" alt="stream"></p><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">/*
 * @introduction: 单向数据流
**/</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
export default {
	// State
	data() {
		return {
			count: 0
		}
	},
	// Action
	methods: {
		increment() {
			this.count++;
		}
	}
}
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">// View</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
	</span><span class="token punctuation">{</span><span class="token punctuation">{</span> count <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="存在的问题及需求" tabindex="-1"><a class="header-anchor" href="#存在的问题及需求" aria-hidden="true">#</a> 存在的问题及需求</h3><aside> ❓ 单项数据流存在问题：数据流只在同一组件中流动 </aside><aside> 💡 项目中一定会存在以下两种需求： 1. 多个视图依赖于同一份状态 2. 来自不同视图的交互需要改变同一份状态 </aside><p><strong><a href="/Kaikai-s-Blog/notes/FrontEnd/Vue/LearnVue%20ec77b16bdd8341ab895699689dd5649c.html" class="">需求1：</a></strong></p><p>方案1：props配置项实现向子元素传递数据</p><p>存在的问题：</p><ol><li>只能由父元素向子元素传递数据，顺序不可逆，且兄弟组件之间无法直接传递数据，需要借助共同的祖先元素。</li><li>数据需要逐级传递，对于多层级组件，prop逐级穿透会影响到这一条链路上的所有组件。</li></ol><p>问题的解决：</p><p><a href="/Kaikai-s-Blog/notes/FrontEnd/Vue/LearnVue%20ec77b16bdd8341ab895699689dd5649c.html" class=""><code>provide</code> 和 <code>inject</code> 配置项</a></p><p><a href="/Kaikai-s-Blog/notes/FrontEnd/Vue/LearnVue%20ec77b16bdd8341ab895699689dd5649c.html" class="">需求2：</a></p><p><a href="/Kaikai-s-Blog/notes/FrontEnd/Vue/LearnVue%20ec77b16bdd8341ab895699689dd5649c.html" class="">方案1：v-model在组件标签上绑定状态</a></p><p>存在的问题：</p><ol><li>只能实现子组件改变父组件的状态，顺序不可逆，且兄弟组件之间无法互相修改状态。</li><li>而且后代组件对祖先状态的修改必须进行状态的拷贝，一旦组件层级多起来，拷贝的份数也会随之增长，自然变得繁琐起来，难以维护。</li></ol><h3 id="最终问题的解决" tabindex="-1"><a class="header-anchor" href="#最终问题的解决" aria-hidden="true">#</a> 最终问题的解决</h3><aside> 🤯 把组件共享的状态抽取出来，以一个全局单例模式管理，任何组件都能获取状态或者触发行为，Vuex正是以此为基本思想创造的。 </aside><h2 id="provide-和-inject-配置项" tabindex="-1"><a class="header-anchor" href="#provide-和-inject-配置项" aria-hidden="true">#</a> <code>provide</code> 和 <code>inject</code> 配置项</h2><p>提供数据</p><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">// provide 配置项为后代提供数据</span>
<span class="token comment">// 1. 对象式 无法访问到data配置项中的数据</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
	<span class="token literal-property property">provide</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">&quot;hello!&quot;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// 2. 函数式 可通过this访问到data配置项中的数据</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
	<span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token punctuation">{</span>
			<span class="token literal-property property">msg</span><span class="token operator">:</span> <span class="token string">&quot;hello!&quot;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	<span class="token function">provide</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token punctuation">{</span>
			<span class="token literal-property property">msg</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>msg
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><aside> 💡 通过provide配置项提供的数据注入后并不会保持响应性 </aside><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">// 应用层Provide</span>
<span class="token comment">// 在**应用层面提供的状态所有的组件都可以注入**</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> createApp <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>

<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">createApp</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>

app<span class="token punctuation">.</span><span class="token function">provide</span><span class="token punctuation">(</span><span class="token comment">/* 注入名 */</span><span class="token string">&#39;msg&#39;</span><span class="token punctuation">,</span> <span class="token comment">/* 值 */</span><span class="token string">&#39;hello!&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>注入数据</p><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">// inject 注入</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
	<span class="token literal-property property">inject</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;msg&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
	<span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>msg<span class="token punctuation">)</span> <span class="token comment">// 注入会在组件自身状态**之前**被解析为组件实例对象的属性</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token punctuation">{</span>
			<span class="token literal-property property">proxyMsg</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>msg
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>注入别名</p><aside> 💡 以数组的形式注入，状态会以注入名作为key绑定到组件实例对象上，我们也可以在注入的时候为状态设置别名，及不同于注入名的key </aside><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code>exprot <span class="token keyword">default</span> <span class="token punctuation">{</span>
	<span class="token literal-property property">inject</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token literal-property property">localMsg</span><span class="token operator">:</span> <span class="token punctuation">{</span>  <span class="token comment">// 本地属性名 </span>
			<span class="token literal-property property">from</span><span class="token operator">:</span> <span class="token string">&#39;msg&#39;</span>  <span class="token comment">// 注入的来源名（及提供数据时的注入名）</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>注入默认值</p><aside> 💡 若组件注入的状态暂时并没有祖先链上的组件提供，注入时会有警告抛出，如果设计组件时已知会存在这种可能的情况，可以为注入声明一个默认值，可以避免警告。 </aside><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
	<span class="token literal-property property">inject</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token literal-property property">msg</span><span class="token operator">:</span> <span class="token punctuation">{</span>
			<span class="token literal-property property">from</span><span class="token operator">:</span> <span class="token string">&#39;msg&#39;</span><span class="token punctuation">,</span>  <span class="token comment">// 同名可选</span>
			<span class="token keyword">default</span><span class="token operator">:</span> <span class="token string">&#39;default value&#39;</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token literal-property property">user</span><span class="token operator">:</span> <span class="token punctuation">{</span>
			<span class="token function-variable function">default</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;kaikai&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// 箭头函数：加括号的函数体返回对象字面量表达式</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><a href="/Kaikai-s-Blog/notes/FrontEnd/Vue/LearnVue%20ec77b16bdd8341ab895699689dd5649c.html" class="">和响应式数据配合使用</a>（<strong>建立注入方与供给方之间的响应性链接</strong>）：</p><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> computed <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
	<span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token punctuation">{</span>
			<span class="token literal-property property">msg</span><span class="token operator">:</span> <span class="token string">&quot;hello!&quot;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token function">provide</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
		<span class="token keyword">return</span> <span class="token punctuation">{</span>
			<span class="token literal-property property">msg</span><span class="token operator">:</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>msg<span class="token punctuation">)</span> <span class="token comment">// computed() 函数显式提供计算属性</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>使用Symbol作为注入名</p><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">/*
 * keys.js: 用于存放注入名Symbol
 * 由于Symbol的唯一性，使用Symol作为注入名能够避免潜在的冲突
**/</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> myInjectionKey <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">// provide</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> myInjectionKey <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;./keys.js&#39;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
	<span class="token function">provide</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token punctuation">{</span>
			<span class="token punctuation">[</span>myInjectionKey<span class="token punctuation">]</span><span class="token operator">:</span> <span class="token punctuation">{</span>
				<span class="token string">&#39;hello!&#39;</span>  <span class="token comment">/* data */</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">// inject</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> myInjectionKey <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;./keys.js&#39;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
	<span class="token literal-property property">inject</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token literal-property property">injected</span><span class="token operator">:</span> <span class="token punctuation">{</span>  <span class="token comment">// injected 是别名 即绑定到组件实例对象上的属性名</span>
			<span class="token literal-property property">from</span><span class="token operator">:</span> myInjectionKey
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="vuex" tabindex="-1"><a class="header-anchor" href="#vuex" aria-hidden="true">#</a> Vuex</h2><p><img src="/Kaikai-s-Blog/images/FrontEnd/Vue/vuex.png" alt="vuex"></p><h3 id="概念" tabindex="-1"><a class="header-anchor" href="#概念" aria-hidden="true">#</a> 概念</h3><aside> 🔥 在Vue中实现集中式状态（数据）管理的一个Vue插件，对Vue应用中多个组件的共享状态进行集中式的管理（读/写），也是一种组件间通信的方式，适用于任意组件间通信。 </aside><h3 id="first-try" tabindex="-1"><a class="header-anchor" href="#first-try" aria-hidden="true">#</a> First Try</h3><h3 id="实例化组件" tabindex="-1"><a class="header-anchor" href="#实例化组件" aria-hidden="true">#</a> 实例化组件</h3><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> createApp <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> createStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vuex&#39;</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">&#39;./App.vue&#39;</span>

<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">createApp</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span>

<span class="token comment">/*
 * @store: store中包含着共享的状态
 * 1. store中储存的状态是响应式的
 * 2. 不能直接改变store中的状态，改变状态的唯一途径是显式的提交 mutation
*/</span>
<span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token function">createStore</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token function">state</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">0</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">mutations</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token function">increment</span><span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            state<span class="token punctuation">.</span>count<span class="token operator">++</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>store<span class="token punctuation">)</span>
app<span class="token punctuation">.</span><span class="token function">mount</span><span class="token punctuation">(</span><span class="token string">&#39;#app&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="state" tabindex="-1"><a class="header-anchor" href="#state" aria-hidden="true">#</a> State</h3><aside> 🤯 Vuex使用单一状态树，用一个对象包含了全部的应用层级状态，store实例作为单一的数据源存在。 </aside><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">// Component.vue</span>
<span class="token comment">// Vuex中状态的使用</span>
<span class="token comment">// this.$store.state 显式调用</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
export default {
	computed: {  // 使用计算属性本地化状态，一旦状态源改变，计算属性做出响应
		count() {
			return this.$store.state.count
		}
	}
	methods: {
		increment() {
			this.$store.commit(&#39;increment&#39;)  // 显式提交 mutation 以修改状态
		}
	}
}
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">// 计算属性的简写形式: mapState 辅助函数 mapState返回一个对象</span>
<span class="token comment">// 1. 对象式</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
export default {
	computed: mapState({
	  count: state =&gt; state.count,  // 不可直接写作state.count 须写成箭头函数的形式
	  count1: &#39;count&#39;,  // store.state 中的状态可简写为 同名字符串的形式
	  theTitle: () =&gt; &#39;vuex&#39;,  // 传入 mapState 中的数据要写成 箭头函数 的形式 写作字符串会被当做store.state中的状态来解析 
	  countPlusLocalCount(state) {
	    return state.count + this.localCount
	  }
	})
}
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">// 2. Array式: 使用条件 所有的计算属性都由store.state直接传递</span>
<span class="token punctuation">{</span>
	<span class="token literal-property property">computed</span><span class="token operator">:</span> <span class="token function">mapState</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;count&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">// 3. computed与局部计算属性混合使用</span>
<span class="token comment">// 使用对象展开运算符将mapState中的属性混入局部计算属性（外部属性）</span>
<span class="token literal-property property">computed</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token function">theTitle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">&#39;vuex&#39;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token operator">...</span><span class="token function">mapState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token string">&#39;count&#39;</span><span class="token punctuation">,</span>
    <span class="token function-variable function">count1</span><span class="token operator">:</span> <span class="token parameter">state</span> <span class="token operator">=&gt;</span> state<span class="token punctuation">.</span>count<span class="token punctuation">,</span>
    <span class="token function">countPlusLocalCount</span><span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> state<span class="token punctuation">.</span>count <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>localCount
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><aside> 🤯 并不是所有的状态都需要放在store.state中，因为不管三七二十一什么都往store.state中放会使得其中的代码变得臃肿，且不符合组件化编程的理念，当一个属性只是在当前组件中使用，亦或者是使用props或provide等方式可以轻松的实现功能，那这个属性便没有必要放在store.state中。 </aside><h3 id="getter" tabindex="-1"><a class="header-anchor" href="#getter" aria-hidden="true">#</a> Getter</h3><p><a href="https://vuex.vuejs.org/zh/guide/getters.html" target="_blank" rel="noopener noreferrer">https://vuex.vuejs.org/zh/guide/getters.html<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><aside> 😸 store的计算属性 </aside><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">// 定义 Getter</span>
<span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token function">createStore</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
	<span class="token literal-property property">state</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token literal-property property">todos</span><span class="token operator">:</span> <span class="token punctuation">[</span>
			<span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token literal-property property">done</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
			<span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token literal-property property">done</span><span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span>
		<span class="token punctuation">]</span>	
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token literal-property property">getters</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token function">doneTodos</span><span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span> state<span class="token punctuation">.</span>todos<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">todo</span> <span class="token operator">=&gt;</span> todo<span class="token punctuation">.</span>done<span class="token punctuation">)</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">// 通过将getter返回函数来实现给getter传参</span>

<span class="token literal-property property">getters</span><span class="token operator">:</span> <span class="token punctuation">{</span>
	<span class="token comment">// ...</span>
	<span class="token function-variable function">getTodoById</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token parameter">id</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> state<span class="token punctuation">.</span>todos<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token parameter">todo</span> <span class="token operator">=&gt;</span> todo<span class="token punctuation">.</span>id <span class="token operator">===</span> id<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">// 使用 Getter 1. 既可以在组件中使用 2. 也可以在定义getter时使用</span>
store<span class="token punctuation">.</span>getters<span class="token punctuation">.</span>doneTodos
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">// mapGetters 辅助函数: 将store中的getter映射到局部计算属性</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>  mapGetters <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vuex&#39;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
	<span class="token literal-property property">computed</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token comment">// 对象展开运算符 将 getter 混入 computed 对象</span>
		<span class="token operator">...</span><span class="token function">mapGetters</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
			<span class="token string">&#39;doneTodosCount&#39;</span><span class="token punctuation">,</span>
			<span class="token string">&#39;anotherGetter&#39;</span><span class="token punctuation">,</span>
			<span class="token comment">// ...</span>
		<span class="token punctuation">]</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 数组式无法为计算属性起别名 对象式可</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
	<span class="token literal-property property">computed</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token operator">...</span><span class="token function">mapGetters</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
			<span class="token literal-property property">doneCount</span><span class="token operator">:</span> <span class="token string">&#39;doneTodosCount&#39;</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="mutation" tabindex="-1"><a class="header-anchor" href="#mutation" aria-hidden="true">#</a> Mutation</h3><aside> 😸 类似于事件，用于改变store中的state，每个mutation都有： 1. 字符串的事件类型 2. 回调函数 </aside><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token function">createStore</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
	<span class="token literal-property property">state</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">1</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token literal-property property">mutation</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token function">increment</span> <span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			state<span class="token punctuation">.</span>count<span class="token operator">++</span>  <span class="token comment">// 变更状态</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">// 触发事件</span>
store<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">&#39;increment&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>mutation接收payload</p><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">// 触发事件时提交 载荷(payload) 即触发事件时传参</span>
<span class="token comment">// ... </span>
<span class="token literal-property property">mutation</span><span class="token operator">:</span> <span class="token punctuation">{</span>
	<span class="token function">increment</span><span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span> n</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		state<span class="token punctuation">.</span>count <span class="token operator">+=</span> n
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 触发事件</span>
store<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">&#39;increment&#39;</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>payload一般为object</p><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token literal-property property">mutation</span><span class="token operator">:</span> <span class="token punctuation">{</span>
	<span class="token function">incrementBy</span><span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span> payload</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		state<span class="token punctuation">.</span>count <span class="token operator">+=</span> payload<span class="token punctuation">.</span>amount
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 触发事件 </span>
store<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">&#39;increment&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
	<span class="token literal-property property">amount</span><span class="token operator">:</span> <span class="token number">10</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// 对象风格的commit</span>
store<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
	<span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;increment&#39;</span><span class="token punctuation">,</span>
	<span class="token literal-property property">amount</span><span class="token operator">:</span> <span class="token number">10</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><aside> 😸 项目规范： 使用常量代替Mutation事件类型（即将所有的mutation的type都存放在一个单独的文件下 </aside><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">// mutation-types.js</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token constant">SOME_MUTATION</span> <span class="token operator">=</span> <span class="token string">&#39;SOME_MUTATION&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">// store.js</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> createStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vuex&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> <span class="token constant">SOME_MUTAION</span> <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;./mutation-types&#39;</span>

<span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token function">createStore</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
	<span class="token literal-property property">state</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token literal-property property">mutation</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token comment">// 使用 mutation-types 中定义好的常量作为函数名</span>
		<span class="token punctuation">[</span><span class="token constant">SOME_MUTATION</span><span class="token punctuation">]</span> <span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token comment">// 修改 state</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><aside> 😸 mutation 都应该是同步函数 </aside><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> mapMutations <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vuex&#39;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
	<span class="token comment">// ...</span>
	<span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token operator">...</span><span class="token function">mapMutations</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
			<span class="token string">&#39;increment&#39;</span><span class="token punctuation">,</span>  <span class="token comment">// 将 this.increment() 映射为 this.$stroe.commit(&#39;increment&#39;)</span>
			<span class="token string">&#39;incrementBy&#39;</span>   <span class="token comment">// 将this.increment(payload) 映射为 this.$store.commit(&#39;incrementBy&#39;, payload)</span>
		<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
		<span class="token operator">...</span><span class="token function">mapMutations</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
			<span class="token literal-property property">add</span><span class="token operator">:</span> <span class="token string">&#39;increment&#39;</span>  <span class="token comment">// 将this.add() 映射为 this.$store.commit(&#39;increment&#39;)</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="action" tabindex="-1"><a class="header-anchor" href="#action" aria-hidden="true">#</a> Action</h3><aside> 🔒 在Vuex中Mutation都是同步事务，Action可以用于处理异步操作 1. Action 提交 mutation，mutation直接变更state 2. Action 可以包含任意异步操作 </aside><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token function">createStore</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
	<span class="token literal-property property">state</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">0</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token literal-property property">mutations</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token function">increment</span><span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
			state<span class="token punctuation">.</span>count<span class="token operator">++</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token literal-property property">actions</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token function">increment</span><span class="token punctuation">(</span><span class="token parameter">context</span><span class="token punctuation">)</span><span class="token punctuation">{</span>  <span class="token comment">// context 与 store 具有相同方法和属性</span>
			context<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">&#39;increment&#39;</span><span class="token punctuation">)</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>参数解构</p><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token function">createStore</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
	<span class="token comment">// ...</span>
	<span class="token literal-property property">actions</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token function">increment</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> commit <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">&quot;increment&quot;</span><span class="token punctuation">)</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>分发(触发)action</p><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code>store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token string">&#39;increment&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>action 内部执行异步操作</p><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token literal-property property">actions</span><span class="token operator">:</span> <span class="token punctuation">{</span>
	<span class="token function">increment</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> commit <span class="token punctuation">}</span></span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
			<span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">&#39;incrementAsync&#39;</span><span class="token punctuation">)</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>传参</p><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">// 载荷方式</span>
store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token string">&#39;incrementAsync&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
	<span class="token literal-property property">amount</span><span class="token operator">:</span> <span class="token number">10</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// 对象方式</span>
store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
	<span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;incrementAsync&#39;</span><span class="token punctuation">,</span>
	<span class="token literal-property property">amount</span><span class="token operator">:</span> <span class="token number">10</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">// 购物车实例</span>

<span class="token literal-property property">actions</span><span class="token operator">:</span> <span class="token punctuation">{</span>
	<span class="token function">checkout</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> commit<span class="token punctuation">,</span> state <span class="token punctuation">}</span><span class="token punctuation">,</span> products</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token comment">// 备份购物车物品</span>
		<span class="token keyword">const</span> savedCartItems <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>state<span class="token punctuation">.</span>cart<span class="token punctuation">.</span>added<span class="token punctuation">]</span>
		<span class="token comment">// 发出结账请求</span>
		<span class="token comment">// 清空购物车</span>
		<span class="token function">commit</span><span class="token punctuation">(</span>types<span class="token punctuation">.</span><span class="token constant">CHECKOUT_REQUEST</span><span class="token punctuation">)</span>
		<span class="token comment">// 购物API 入参有: 待购买商品 购买成功回调 购买失败回调 </span>
		shop<span class="token punctuation">.</span><span class="token function">buyProducts</span><span class="token punctuation">(</span>
			products<span class="token punctuation">,</span>
			<span class="token comment">// success callback 提交mutation变更状态</span>
			<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">commit</span><span class="token punctuation">(</span>types<span class="token punctuation">.</span><span class="token constant">CHECKOUT_SUCCESS</span><span class="token punctuation">)</span><span class="token punctuation">,</span> 
			<span class="token comment">// fail</span>
			<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">commit</span><span class="token punctuation">(</span>types<span class="token punctuation">.</span><span class="token constant">CHECKOUT_FAILURE</span><span class="token punctuation">,</span> savedCartItems<span class="token punctuation">)</span>
		<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>组件中分发Action</p><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> mapActions <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vuex&#39;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
	<span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token operator">...</span><span class="token function">mapActions</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
			<span class="token string">&#39;increment&#39;</span><span class="token punctuation">,</span>
			<span class="token string">&#39;incrementBy&#39;</span>  <span class="token comment">// this.incrementBy(payload) -&gt; this.$store.dispatch(&#39;incrementBy&#39;, payload)</span>
		<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
		<span class="token operator">...</span><span class="token function">mapActions</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
			<span class="token literal-property property">add</span><span class="token operator">:</span> <span class="token string">&#39;increment&#39;</span>  <span class="token comment">// this.add() -&gt; this.$store.dispatch(&#39;increment&#39;)</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="组合action" tabindex="-1"><a class="header-anchor" href="#组合action" aria-hidden="true">#</a> 组合Action</h3><aside> 📌 1. store.dispatch 能够处理 action 的处理函数返回的Promise 2. store.dispatch 返回 Promise </aside><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">// action 返回 Promise</span>
<span class="token literal-property property">actions</span><span class="token operator">:</span> <span class="token punctuation">{</span>
	<span class="token function">actionA</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> commmit <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>  <span class="token comment">// 返回期约 store.dispatch 会处理这个期约 </span>
			<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
				<span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">&#39;someMutation&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 提交mutation</span>
				<span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">// 提交mutation后落定期约</span>
			<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span>  <span class="token comment">// 1000ms 后期约的状态变为resolve </span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">// store.dispatch()返回Promise</span>
store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token string">&#39;actionA&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	<span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>  <span class="token comment">// store.dispatch() 会返回一个期约 Promise.prototype.then(onResolved, onRejected)为期约落定后的处理程序</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">// 对 store.dispatch() 返回值的处理也可以封装成一个action</span>
<span class="token literal-property property">actions</span><span class="token operator">:</span> <span class="token punctuation">{</span>
	<span class="token function">actionB</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> dispatch<span class="token punctuation">,</span> commit <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token string">&#39;actionA&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
			<span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">&#39;someOtherMutation&#39;</span><span class="token punctuation">)</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>async &amp; awiat</p><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">// getData() &amp; getOtherData() 返回 Promise</span>
<span class="token literal-property property">actions</span><span class="token operator">:</span> <span class="token punctuation">{</span>
	<span class="token keyword">async</span> <span class="token function">actionA</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> commit <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">&#39;gotData&#39;</span><span class="token punctuation">,</span> <span class="token keyword">await</span> <span class="token function">getData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment">// 调用getData，返回的Promise作为payload提交至mutation: gotData</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token keyword">async</span> <span class="token function">actionB</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> commit <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">await</span> <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token string">&#39;actionA&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token comment">// 触发 actionA</span>
		<span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">&#39;gotOtherData&#39;</span><span class="token punctuation">,</span> <span class="token keyword">await</span> <span class="token function">getOtherData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment">// 调用getOtherData, 返回的Promise作为payload提交至mutation: gotOtherData</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><aside> 🔥 一个 `store.dispatch` 在不同模块中可以触发多个 action 函数。在这种情况下，只有当所有触发函数完成后，返回的 Promise 才会执行。 </aside><h3 id="module" tabindex="-1"><a class="header-anchor" href="#module" aria-hidden="true">#</a> Module</h3><aside> ❓ 为了避免store过于臃肿，Vuex允许我们将store分割成**模块(module)**，每个模块拥有自己的state, mutation, action, getter, 甚至是嵌套子模块——从上至下进行同样方式的分割 </aside><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">// 模块的使用</span>
<span class="token keyword">const</span> moduleA <span class="token operator">=</span> <span class="token punctuation">{</span>
	<span class="token function-variable function">state</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token literal-property property">mutations</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token literal-property property">actions</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token literal-property property">getters</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> moduleB <span class="token operator">=</span> <span class="token punctuation">{</span>
	<span class="token function-variable function">state</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token literal-property property">mutations</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token literal-property property">actions</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token literal-property property">getters</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token function">createStore</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
	<span class="token literal-property property">modules</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token literal-property property">a</span><span class="token operator">:</span> moduleA<span class="token punctuation">,</span>
		<span class="token literal-property property">b</span><span class="token operator">:</span> moduleB
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// 调用模块的状态</span>
store<span class="token punctuation">.</span>state<span class="token punctuation">.</span>a
store<span class="token punctuation">.</span>state<span class="token punctuation">.</span>b
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">// 模块的定义</span>
<span class="token keyword">const</span> moduleA <span class="token operator">=</span> <span class="token punctuation">{</span>
	<span class="token function-variable function">state</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
		<span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">0</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token literal-property property">mutations</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token function">increment</span> <span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			state<span class="token punctuation">.</span>count<span class="token operator">++</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token literal-property property">getters</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token function">doubleCount</span> <span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span> state<span class="token punctuation">.</span>count <span class="token operator">*</span> <span class="token number">2</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token function">sumWithRootCount</span> <span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span> getters<span class="token punctuation">,</span> rootState</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span> state<span class="token punctuation">.</span>count <span class="token operator">+</span> rootState<span class="token punctuation">.</span>count
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token literal-property property">actions</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token function">incrementIfOddOnRootSum</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> state<span class="token punctuation">,</span> commit<span class="token punctuation">,</span> rootState <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>state<span class="token punctuation">.</span>count <span class="token operator">+</span> rootState<span class="token punctuation">.</span>count<span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">===</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">&#39;increment&#39;</span><span class="token punctuation">)</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><aside> 🐳 1. 不同的模块中可以定义相同的action和mutation，它们注册均注册在全局命名空间——因此不同的模块可以对同一个action或mutation做出响应( commit or dispatch ) 2. 不同的无命名空间模块中不可以定义相同的getter，会导致错误（相当于在全局命名空间重复定义相同的计算属性） </aside><h3 id="命名空间" tabindex="-1"><a class="header-anchor" href="#命名空间" aria-hidden="true">#</a> 命名空间</h3><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">// 带命名空间的模块</span>
<span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token function">createStore</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
	<span class="token literal-property property">modules</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token literal-property property">account</span><span class="token operator">:</span> <span class="token punctuation">{</span>
			<span class="token literal-property property">namespaced</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>  <span class="token comment">// 成为带命名空间的模块</span>
			<span class="token function-variable function">state</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token comment">// store.state.account</span>
			<span class="token literal-property property">getters</span><span class="token operator">:</span> <span class="token punctuation">{</span>
				<span class="token function">isAdmin</span> <span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span> getters<span class="token punctuation">,</span> rootState<span class="token punctuation">,</span> rootGetters</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>  <span class="token comment">// getters是被局部化的，rootGetters是全局的</span>
			<span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token comment">// getters[&#39;account/isAdmin&#39;]</span>
			<span class="token literal-property property">actions</span><span class="token operator">:</span> <span class="token punctuation">{</span>
				<span class="token function">login</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> commit<span class="token punctuation">,</span> dispatch<span class="token punctuation">,</span> getters<span class="token punctuation">,</span> rootGetters <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment">// 这里接收到的commit, dispatch, getters都是局部化的</span>
					<span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">&#39;login&#39;</span><span class="token punctuation">)</span>  <span class="token comment">// &#39;/account/login&#39;同一模块不需要额外添加空间名前缀 </span>
					<span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">&#39;someOtherMutation&#39;</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">root</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>  <span class="token comment">// &#39;/someOtherMutation&#39;</span>
					<span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token string">&#39;someOtherAction&#39;</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">root</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>  <span class="token comment">// &#39;someOtherAction&#39;</span>
					<span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token string">&#39;someOtherAction&#39;</span><span class="token punctuation">)</span>  <span class="token comment">// &#39;/account/someOtherAction&#39;</span>
				<span class="token punctuation">}</span><span class="token punctuation">,</span>
				<span class="token function">someOtherAction</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
			<span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token comment">// dispatch(&#39;account/login&#39;)</span>
			<span class="token literal-property property">mutations</span><span class="token operator">:</span> <span class="token punctuation">{</span>
				<span class="token function">login</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
				<span class="token function">someOtherMutation</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
			<span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token comment">// commit(&#39;account/login&#39;)</span>

			<span class="token comment">// 嵌套模块</span>
			<span class="token literal-property property">modules</span><span class="token operator">:</span> <span class="token punctuation">{</span>
				<span class="token comment">// 继承父模块的命名空间</span>
				<span class="token literal-property property">myPage</span><span class="token operator">:</span> <span class="token punctuation">{</span>
					<span class="token function-variable function">state</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
					<span class="token literal-property property">getters</span><span class="token operator">:</span> <span class="token punctuation">{</span>
						<span class="token function">profile</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
							<span class="token operator">...</span>
						<span class="token punctuation">}</span>  <span class="token comment">// getters[&#39;account/profile&#39;]</span>
					<span class="token punctuation">}</span>
				<span class="token punctuation">}</span><span class="token punctuation">,</span>
				
				<span class="token literal-property property">posts</span><span class="token operator">:</span> <span class="token punctuation">{</span>
					<span class="token literal-property property">namespaced</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>  <span class="token comment">// 进一步嵌套命名空间</span>

					<span class="token function-variable function">state</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
					<span class="token literal-property property">getters</span><span class="token operator">:</span> <span class="token punctuation">{</span>
						<span class="token function">popular</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>  <span class="token comment">// getters[&#39;account/posts/popular&#39;]</span>
					<span class="token punctuation">}</span><span class="token punctuation">,</span>
					<span class="token literal-property property">actions</span><span class="token operator">:</span> <span class="token punctuation">{</span>
						<span class="token function">add</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>  <span class="token comment">// &#39;account/posts/add&#39;</span>
						
						<span class="token comment">// 在命名空间中注册全局Action</span>
						<span class="token literal-property property">someAction</span><span class="token operator">:</span> <span class="token punctuation">{</span>
							<span class="token literal-property property">root</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
							<span class="token function">handler</span> <span class="token punctuation">(</span><span class="token parameter">namespacedContext<span class="token punctuation">,</span> payload</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>  <span class="token comment">// &#39;someAction&#39; </span>
						<span class="token punctuation">}</span>
					<span class="token punctuation">}</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">// 使用带命名空间的模块</span>
<span class="token literal-property property">computed</span><span class="token operator">:</span> <span class="token punctuation">{</span>
	<span class="token operator">...</span><span class="token function">mapState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
		<span class="token function-variable function">a</span><span class="token operator">:</span> <span class="token parameter">state</span> <span class="token operator">=&gt;</span> state<span class="token punctuation">.</span>module1<span class="token punctuation">.</span>a<span class="token punctuation">,</span>
		<span class="token function-variable function">b</span><span class="token operator">:</span> <span class="token parameter">state</span> <span class="token operator">=&gt;</span> state<span class="token punctuation">.</span>module1<span class="token punctuation">.</span>b
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token operator">...</span><span class="token function">mapGetters</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
		<span class="token string">&#39;module1/getterA&#39;</span><span class="token punctuation">,</span>
		<span class="token string">&#39;module1/getterB&#39;</span>
	<span class="token punctuation">]</span><span class="token punctuation">)</span> 
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
	<span class="token operator">...</span><span class="token function">mapActions</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;module/foo&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;module/bar&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token operator">...</span><span class="token function">mapMutations</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;module/foo&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;module/bar&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><aside> 🐳 简化：将空间名称字符串作为第一个参数传给map…函数 </aside><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token literal-property property">computed</span><span class="token operator">:</span> <span class="token punctuation">{</span>
	<span class="token operator">...</span><span class="token function">mapState</span><span class="token punctuation">(</span><span class="token string">&#39;module1&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
		<span class="token function-variable function">a</span><span class="token operator">:</span> <span class="token parameter">state</span> <span class="token operator">=&gt;</span> state<span class="token punctuation">.</span>a
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token operator">...</span><span class="token function">mapGetters</span><span class="token punctuation">(</span><span class="token string">&#39;module1&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>
		<span class="token string">&#39;getterA&#39;</span><span class="token punctuation">,</span>
		<span class="token string">&#39;getterB&#39;</span>
	<span class="token punctuation">]</span><span class="token punctuation">)</span> 
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
	<span class="token operator">...</span><span class="token function">mapActions</span><span class="token punctuation">(</span><span class="token string">&#39;module&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&#39;foo&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;bar&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token operator">...</span><span class="token function">mapMutations</span><span class="token punctuation">(</span><span class="token string">&#39;module&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&#39;foo&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;bar&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><aside> 🐳 `createNamespacedHelpers` 创建基于某个命名空间的组件绑定辅助函数们 </aside><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> createNamespacedHelpers <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vuex&#39;</span>

<span class="token keyword">const</span> <span class="token punctuation">{</span> mapState<span class="token punctuation">,</span> mapActions <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">createNamespacedHelpers</span><span class="token punctuation">(</span><span class="token string">&#39;module1&#39;</span><span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
	<span class="token literal-property property">computed</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token operator">...</span><span class="token function">mapState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
			<span class="token function-variable function">a</span><span class="token operator">:</span> <span class="token parameter">state</span> <span class="token operator">=&gt;</span> state<span class="token punctuation">.</span>a
		<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
		<span class="token operator">...</span><span class="token function">mapGetters</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
			<span class="token string">&#39;getterA&#39;</span>	
		<span class="token punctuation">]</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token operator">...</span><span class="token function">mapActions</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;foo&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
		<span class="token operator">...</span><span class="token function">mapMutations</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;bar&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>模块动态注册</strong></p><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code>store<span class="token punctuation">.</span><span class="token function">registerModule</span><span class="token punctuation">(</span><span class="token string">&#39;myModule&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>

store<span class="token punctuation">.</span><span class="token function">registerModule</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;nested&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;myModule&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>

store<span class="token punctuation">.</span><span class="token function">registerModule</span><span class="token punctuation">(</span><span class="token string">&#39;bar&#39;</span><span class="token punctuation">,</span> module<span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">preserveState</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>  
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><aside> 🐳 preserveState: true 表明 module中的state不注册到全局命名空间（store） 因此在module中的getters/mutations/actions配置项中就不要使用state配置项中的数据了，否则报错 </aside><h3 id="项目结构" tabindex="-1"><a class="header-anchor" href="#项目结构" aria-hidden="true">#</a> 项目结构</h3><aside> ⚠️ 大型应用应该将Vuex的相关代码分割到模块中 </aside><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code>├── index<span class="token punctuation">.</span>html
├── main<span class="token punctuation">.</span>js
├── api
│   └── <span class="token operator">...</span> # 抽取出<span class="token constant">API</span>请求
├── components
│   ├── App<span class="token punctuation">.</span>vue
│   └── <span class="token operator">...</span>
└── store
    ├── index<span class="token punctuation">.</span>js          # 我们组装模块并导出 store 的地方
    ├── actions<span class="token punctuation">.</span>js        # 根级别的 action
    ├── mutations<span class="token punctuation">.</span>js      # 根级别的 mutation
    └── modules
        ├── cart<span class="token punctuation">.</span>js       # 购物车模块
        └── products<span class="token punctuation">.</span>js   # 产品模块
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="异步组件" tabindex="-1"><a class="header-anchor" href="#异步组件" aria-hidden="true">#</a> 异步组件</h2><h3 id="定义异步组件" tabindex="-1"><a class="header-anchor" href="#定义异步组件" aria-hidden="true">#</a> 定义异步组件</h3><aside> 💡 应用的场景： 大型项目中，我们需要将应用拆分为更小的块，并仅在需要的时候从服务器加载相关的组件 </aside><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> defineAsyncComponent <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>

<span class="token keyword">const</span> AsyncComp <span class="token operator">=</span> <span class="token function">defineAsyncComponent</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>  <span class="token comment">// 接收一个返回Promise的加载函数</span>
	<span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>  <span class="token comment">// Promise的执行器函数 同步执行</span>
		<span class="token comment">// ···从服务器获取组件</span>
		<span class="token function">resolve</span><span class="token punctuation">(</span><span class="token comment">/* 获取到的组件 */</span><span class="token punctuation">)</span>
		<span class="token comment">// or 表明加载失败</span>
		<span class="token function">reject</span><span class="token punctuation">(</span>reason<span class="token punctuation">)</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><aside> 👇 `defineAsyncComponent` 接收一个返回Promise的加载函数 ES模块动态导入也会返回一个Promise 两者可以搭配使用 </aside><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> defineAsyncComponent <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>

<span class="token keyword">const</span> AsyncComp <span class="token operator">=</span> <span class="token function">defineAsyncComponent</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> 
	<span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">&#39;./components/MyComponent.vue&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><a href="https://cn.vuejs.org/guide/components/async.html" target="_blank" rel="noopener noreferrer">https://cn.vuejs.org/guide/components/async.html<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><aside> 😸 `defineAsyncComponent` 方法会返回一个外层被包装过的组件，仅在页面需要它渲染时才会调用加载函数返回已落定的期约，这个resolved的期约的内部值就是我们需要获取的组件。 </aside><h3 id="注册异步组件" tabindex="-1"><a class="header-anchor" href="#注册异步组件" aria-hidden="true">#</a> 注册异步组件</h3><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">// 注册全局组件</span>
app<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token string">&#39;MyComponent&#39;</span><span class="token punctuation">,</span> <span class="token function">defineAsyncComponent</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> 
	<span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">&#39;./components/MyComponent.vue&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">// 注册局部组件</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
import { defineAsyncComponent } from &#39;vue&#39;

export default {
	components: {
		AdminPage: defineAsyncComponent(() =&gt; 
			import(&#39;./components/AdminPageComponent.vue&#39;)
		)
	}
}
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
	</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">AdminPage</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="加载与错误状态" tabindex="-1"><a class="header-anchor" href="#加载与错误状态" aria-hidden="true">#</a> 加载与错误状态</h3><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">const</span> AsyncComponent <span class="token operator">=</span> <span class="token function">defineAsyncComponent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
	<span class="token comment">// 加载函数</span>
	<span class="token function-variable function">loader</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">&#39;./Foo.vue&#39;</span><span class="token punctuation">)</span>
	<span class="token comment">// 加载时使用的加载组件</span>
	<span class="token literal-property property">loadingComponent</span><span class="token operator">:</span> LoadingComponent<span class="token punctuation">,</span>
	<span class="token comment">// 展示加载组件前的延迟时间</span>
	<span class="token literal-property property">delay</span><span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span>
	
	<span class="token comment">// 失败组件，加载器函数返回的期约报错时渲染</span>
	<span class="token literal-property property">errorComponent</span><span class="token operator">:</span> ErrorComponent<span class="token punctuation">,</span>
	<span class="token comment">// 超时时间，加载超过指定时间渲染失败组件</span>
	<span class="token literal-property property">timeout</span><span class="token operator">:</span> <span class="token number">3000</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><!--[--><!--]--></div><footer class="page-meta"><div class="meta-item edit-link"><a class="external-link meta-item-label" href="https://github.com/Kaikaikaifang/Kaikai-s-Blog/edit/main/docs/notes/FrontEnd/Vue/LearnVue.md" rel="noopener noreferrer" target="_blank" aria-label="Edit this page"><!--[--><!--]--> Edit this page <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: 2837968358@qq.com">Kaikaikaifang</span><!----><!--]--><!--]--></span></div></footer><!----><!--[--><!--[--><div class="my-footer">By Kaikai 💌</div><!--]--><!--]--></main><!--]--></div><!----><!----><!--]--></div>
    <script type="module" src="/Kaikai-s-Blog/assets/app.e12c69cb.js" defer></script>
  </body>
</html>
